{"version":2,"ops":[{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1597062159,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTMyMjY4MQ==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671322681"},"message":"[PEP 440](https://www.python.org/dev/peps/pep-0440/) (the specification for the Python project version format, which `packaging` implements) specifies that the standard spelling for release candidates is \"`\u003cbase version\u003erc\u003cinteger\u003e`\".  The insertion of a period, hyphen, or underscore before the `rc` is allowed as an alternative syntax which normalizes to the no-punctuation form.  I would recommend the no-punctuation form.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597065171,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTM0NTU3NA==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671345574"},"message":"ok, let's proceed with `0.6.0rc1` and see if some semver gods would not rain the fire upon us.  Thanks!","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597065171,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzYzODcwMDkxNg=="},"status":2},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1597069642,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTM4ODY4Nw==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671388687"},"message":"@yarikoptic - there is a difference between PEP440 and semver.org, but i think across most python and other projects we have been reasonable about keeping a happy medium. just to provide consistency with most other ni* projects, perhaps just stick to the semver version 0.6.0-rc1. i know the hyphen isn't necessary in PEP440, but keeps this compatible with both.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597072153,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTQxMzI0OQ==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671413249"},"message":"Apparently even `rc1` displeases  distutils anyways, so if pip/pypi would digest well `-rc1`, why not... will do\n```\n$\u003e python -c 'from distutils.version import LooseVersion as LV, StrictVersion as SV; print(SV(\"0.6.0rc1\") \u003c \"0.6.0\")'\nTraceback (most recent call last):\n  File \"\u003cstring\u003e\", line 1, in \u003cmodule\u003e\n  File \"/usr/lib/python2.7/distutils/version.py\", line 40, in __init__\n    self.parse(vstring)\n  File \"/usr/lib/python2.7/distutils/version.py\", line 107, in parse\n    raise ValueError, \"invalid version number '%s'\" % vstring\nValueError: invalid version number '0.6.0rc1'\n```","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597073057,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTQyMTg0Mg==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671421842"},"message":"FWIW, \n- tagged and pushed 0.6.0-rc1 in `0.6.x` branch.\n- `make release-pypi` uploaded as 0.6.0rc1 version to pypi\n- it seems to install and operate ok whenever exact version is specified.\n\n- I thought that I could use `pip3 install --pre dandi~=0.6.0` to get it installed without specifying specific release candidate but pinning to this upcoming release -- that doesn't work.\n  - note that IIRC installing a pre-release opens the \"door\" for pre-releases to be allowed to be installed for future releases (e.g. `0.7.0`) .  That is why I was trying to pin\n- `pip install --pre dandi` works or less preferable since we might get another `rc`: `pip install dandi==0.6.0rc1`","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1597076217,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTQ1MDkzMw==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671450933"},"message":"if we do release `0.6.0-rc1` we can remove `0.6.0rc1` from pypi. also we should just setup releases also from github actions if we haven't already (many examples out there :) ).","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597077569,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTQ2MjQ1NQ==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671462455"},"message":"We have \"released\" it as far as it goes, now will do on github marking it as \"pre-production\": done now https://github.com/dandi/dandi-cli/releases .\n\nThe fact that it uploaded it to pypi without `-` I took as a \"feature\" of some kind (e.g. sanitization to match pypi expectations etc).  Since it is a \"rc\" I would not sweat much to harmonize it further unless you see some major side-effect we would like to avoid.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597077734,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MTQ2Mzc4Mw==","github-url":"https://github.com/dandi/dandi-cli/issues/179#issuecomment-671463783"},"message":"re automation -- probably should not hurt.  I did something like that for `duecredit` and I also enjoyed some cons, e.g. if tag was not pushed along with the branch progress, then IIRC it did not build/upload... but may be it was a shortcoming of my recipe and it could be done more \"natively\" now using github workflows to react explicitly on releases.  But then it is automated but would incur delay, thus complicating testing if compared to current \"manual make\" call.","files":null}]}