{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1614615878,"metadata":{"github-id":"MDU6SXNzdWU4MTkwMzE1ODg=","github-url":"https://github.com/dandi/dandi-cli/issues/436","origin":"github"},"title":"schema conversion: allow for empty values/fields","message":"I have spotted\n```\nFeb 28 14:05:40 Processing dandisets/000016/sub-mouse1-fni16/sub-mouse1-fni16_ses-170808184141.nwb\nFeb 28 14:05:40 CONVERSION ERROR: Cannot interpret sex field: \nFeb 28 14:05:40 Processing dandisets/000016/sub-mouse1-fni16/sub-mouse1-fni16_ses-170808185044.nwb\nFeb 28 14:05:40 CONVERSION ERROR: Cannot interpret sex field: \nFeb 28 14:05:40 Processing dandisets/000016/sub-mouse1-fni16/sub-mouse1-fni16_ses-170808190057.nwb\n```\nin a terminal, and indeed https://github.com/dandi/dandi-api-datasets/blob/master/000016/CONVERSION.errors is full of those, and looking at (might need #434 )\n```\n$\u003e dandi ls 000016/sub-mouse1-fni16/sub-mouse1-fni16_ses-170808184141.nwb\n- age: ''\n  date_of_birth: null\n  experiment_description: null\n  experimenter:\n  - Farzaneh Najafi\n  genotype: ''\n  identifier: 150821_001-002_ch2-PnevPanResults-170808-184141\n  institution: Cold Spring Harbor Laboratory\n  keywords: null\n  lab: null\n  nd_types:\n  - BehavioralTimeSeries\n  - Device (3)\n  - DfOverF (9)\n  - ImageSegmentation\n  - ImagingPlane (2)\n  - OpticalChannel (2)\n  - PlaneSegmentation\n  - ProcessingModule (2)\n  - RoiResponseSeries (1323)\n  - Subject\n  - TimeIntervals\n  - TimeSeries (2)\n  number_of_electrodes: 0\n  number_of_units: 0\n  nwb_version: 2.2.2\n  path: 000016/sub-mouse1-fni16/sub-mouse1-fni16_ses-170808184141.nwb\n  related_publications:\n  - https://doi.org/10.1101/354340\n  session_description: 150821_001-002_ch2-PnevPanResults-170808-184141\n  session_id: '170808184141'\n  session_start_time: 2015-08-21 00:00:00-04:00\n  sex: ''\n  size: 340933876\n  species: ''\n  subject_id: mouse1_fni16\n2021-03-01 11:09:12,886 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20210301160911Z-3836.log\n```\nindeed sex is missing, but that should not prevent filling out other metadata fields (e.g. session etc) for an asset , which currently has none of those\nhttps://github.com/dandi/dandi-api-datasets/blob/master/000016/sub-mouse1-fni16/sub-mouse1-fni16_ses-161220141515.nwb.yaml\n\n```yaml\ncontentSize: 417402782\ndigest: e37a96b74ca95f341203797c8e18022a48c4b79546388d7a4d08fc9b6de52322\ndigest_type: SHA256\npath: sub-mouse1-fni16/sub-mouse1-fni16_ses-161220141515.nwb\n```\n\nNB similar error in other datasets, e.g. 28, 34\n\nI think for any empty initial value/field we should just not populate it while populating the rest of the BareAssetMeta record. It will be up to validator to complain later on.","files":null}]}