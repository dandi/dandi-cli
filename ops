{"version":2,"ops":[{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1680097426,"metadata":{"github-id":"LE_lADODBZtRc5iGZx7zwAAAAIRGdFG"},"added":["DX"],"removed":[]},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1680188193,"metadata":{"github-id":"IC_kwDODBZtRc5Y1oVU","github-url":"https://github.com/dandi/dandi-cli/issues/1259#issuecomment-1490453844"},"message":"@yarikoptic I feel like adding that functionality to `dandi_authenticate()` would mean that it would be doing too much.  It would make more sense to add a dedicated method (either on `DandiAPIClient` or on some new keyring-management class) for just setting the API key stored in the keyring.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1680197467,"metadata":{"github-id":"IC_kwDODBZtRc5Y2dwu","github-url":"https://github.com/dandi/dandi-cli/issues/1259#issuecomment-1490672686"},"message":"you are probably right -- that function is already a bit handful.  The tricky part with separating it out would be the need for the corresponding `client_name` so feels like it would be easiest to be within the `DandiAPIClient` class. May be neighboring `DandiAPIClient.dandi_authenticate_key(api_key)` which is at large would be that all that logic but without asking for a key from env or keystore and not looping/asking for another one if not working -- but saving if works.","files":null},{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1680623815,"metadata":{"github-id":"LE_lADODBZtRc5iGZx7zwAAAAIUC1Jz"},"added":["easy"],"removed":[]},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1680706667,"metadata":{"github-id":"IC_kwDODBZtRc5ZRBWr","github-url":"https://github.com/dandi/dandi-cli/issues/1259#issuecomment-1497634219"},"message":"@yarikoptic So you want a method that just takes an API key, calls `authenticate()` with it, and if that succeeds, saves the key to the keyring?  Could this just be done by adding a `save_to_keyring: bool` option to `authenticate()`?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1680708521,"metadata":{"github-id":"IC_kwDODBZtRc5ZRNoe","github-url":"https://github.com/dandi/dandi-cli/issues/1259#issuecomment-1497684510"},"message":"\u003e @yarikoptic So you want a method that just takes an API key, calls `authenticate()` with it, and if that succeeds, saves the key to the keyring?\n\nsounds correct\n\n\u003e Could this just be done by adding a `save_to_keyring: bool` option to `authenticate()`?\n\nwithout looking at the code -- sounds like a plausible solution.","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1680792058,"metadata":{"github-id":"CE_lADODBZtRc5iGZx7zwAAAAIVRH1D"},"status":2},{"type":3,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1681759916,"metadata":{"github-id":"IC_kwDODBZtRc5aHs-o","github-url":"https://github.com/dandi/dandi-cli/issues/1259#issuecomment-1511968680"},"message":"\u003c!-- GITHUB_RELEASE COMMENT: released --\u003e\n:rocket: Issue was released in [`0.53.0`](https://github.com/dandi/dandi-cli/releases/tag/0.53.0) :rocket:","files":null},{"type":5,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1681759917,"metadata":{"github-id":"LE_lADODBZtRc5iGZx7zwAAAAIaIxhq"},"added":["released"],"removed":[]}]}