{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1616782972,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwODQyNzc0Mw==","github-url":"https://github.com/dandi/dandi-cli/issues/508#issuecomment-808427743"},"message":"I don't see something obvious... could you please look into  /Users/bendichter/Library/Logs/dandi-cli/20210326142932Z-78461.log if it has a traceback, if not, could you please rerun with `DANDI_DEVEL=1 dandi --pdb upload --devel-debug` so you end up in pdb and could share exact location to simplify troubleshooting","files":null},{"type":3,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1617028832,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTQzNTEzNA==","github-url":"https://github.com/dandi/dandi-cli/issues/508#issuecomment-809435134"},"message":"```\n2021-03-26T10:29:32-0400 [INFO    ] dandi 78461:4451524032 [META] sys.argv = ['/Users/bendichter/opt/anaconda3/bin/dandi', 'upload']\n2021-03-26T10:29:32-0400 [INFO    ] dandi 78461:4451524032 [META] os.getcwd() = /Volumes/easystore5T/dandi_staging/000008\n2021-03-26T10:29:36-0400 [INFO    ] dandi 78461:4451524032 Logs saved in /Users/bendichter/Library/Logs/dandi-cli/20210326142932Z-78461.log\n```","files":null},{"type":3,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1617029067,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTQzODU2Ng==","github-url":"https://github.com/dandi/dandi-cli/issues/508#issuecomment-809438566"},"message":"Thanks @yarikoptic .\n\n```\n  File \"/Users/bendichter/opt/anaconda3/lib/python3.7/site-packages/dandi/dandiset.py\", line 112, in _get_identifier\n    elif id_.startswith(\"DANDI:\"):\nAttributeError: 'int' object has no attribute 'startswith'\n\n\u003e /Users/bendichter/opt/anaconda3/lib/python3.7/site-packages/dandi/dandiset.py(112)_get_identifier()\n-\u003e elif id_.startswith(\"DANDI:\"):\n(Pdb) id_\n8\n```\n\nIt looks like the program is expecting the `id_` to be a string, but it is just the integer `8`","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1617029617,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTQ0NTc0OQ==","github-url":"https://github.com/dandi/dandi-cli/issues/508#issuecomment-809445749"},"message":"are you trying to reuse a directory with a dandiset.yaml from before? if i download the metadata file, the value is a string in dandiset.yaml. this will all change in the new api where metadata is versioned, but at present could you please change the identifier value in dandiset.yaml from `000008` to `'000008'` and try?\n\nor just get a new version of the metadata. \n\n```\n$ mkdir temp\n$ dandi download --download dandiset.yaml -o temp DANDI:000008\n```\nalso make sure you are using a recent CLI, so that you don't accidentally overwrite metadata. it should no longer update dandiset metadata.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1617032026,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTQ3OTA2OA==","github-url":"https://github.com/dandi/dandi-cli/issues/508#issuecomment-809479068"},"message":"absent version reporting by etelemetry in `$ dandi upload` call indeed suggests that the client is quite dated - I should have spotted that, it might as well be we even became more robust to such gotchas since then.","files":null},{"type":3,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1617037345,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTU0NzA4OA==","github-url":"https://github.com/dandi/dandi-cli/issues/508#issuecomment-809547088"},"message":"it's working","files":null},{"type":6,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1617037358,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6NDQ3MDkwODk0"},"target":"8a3db1f1f1357a73272e7e43321a5771913dade3e778ba5a316745fa562f4158","message":"it's working now, thanks!","files":null},{"type":4,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1617037346,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDUyMjczNjc0Mw=="},"status":2}]}