{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1610729930,"metadata":{"github-id":"MDU6SXNzdWU3ODcwNDQxODU=","github-url":"https://github.com/dandi/dandi-cli/issues/328","origin":"github"},"title":"migrate2newschema: two exceptions on existing datasets","message":"from a complete script setup: https://github.com/dandi/dandi-api-datasets\n\n```shell\n(git-annex)lena:~/proj/dandi/dandi-api-datasets[master]git-annex\n$\u003e cat 000010/EXCEPTION\nTraceback (most recent call last):\n  File \"/home/yoh/proj/dandi/dandi-api-datasets/tools/populate_dandiset_yaml.py\", line 28, in \u003cmodule\u003e\n    new_meta = migrate2newschema(dandiset_meta)\n  File \"/home/yoh/proj/dandi/dandi-cli-master/dandi/metadata.py\", line 517, in migrate2newschema\n    newmeta = convertv1(meta)\n  File \"/home/yoh/proj/dandi/dandi-cli-master/dandi/metadata.py\", line 436, in convertv1\n    if item in val.values():\nAttributeError: 'Resource' object has no attribute 'values'\n```\n\n```shell\n$\u003e cat 000041/EXCEPTION \nTraceback (most recent call last):\n  File \"/home/yoh/proj/dandi/dandi-api-datasets/tools/populate_dandiset_yaml.py\", line 28, in \u003cmodule\u003e\n    new_meta = migrate2newschema(dandiset_meta)\n  File \"/home/yoh/proj/dandi/dandi-cli-master/dandi/metadata.py\", line 517, in migrate2newschema\n    newmeta = convertv1(meta)\n  File \"/home/yoh/proj/dandi/dandi-cli-master/dandi/metadata.py\", line 478, in convertv1\n    value[\"maximum\"] = float(value[\"maximum\"].split()[0])\nValueError: could not convert string to float: '3-7'\n```","files":null}]}