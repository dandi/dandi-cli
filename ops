{"version":2,"ops":[{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1657821207,"metadata":{"github-id":"LE_lADODBZtRc5NynpDzwAAAAGhA0P1"},"added":["cmd-download"],"removed":[]},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1657821692,"metadata":{"github-id":"IC_kwDODBZtRc5GncA9","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184743485"},"message":"i don't see why this would go to identifers.org? this is DANDI CLI. shouldn't it know how to interpret that URI?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1657826547,"metadata":{"github-id":"IC_kwDODBZtRc5Gns0X","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184812311"},"message":"I thought for `DANDI:` we went to identifiers.org to get an ultimate location instead of duplicating/hardcoding it in the client... but running with `-l debug` shows\n\n```\n2022-07-14 15:21:38,112 [   DEBUG] Parsing url DANDI:000029/draft\n2022-07-14 15:21:38,113 [   DEBUG] Caught exception We do not know how to map URL DANDI:000029/draft to our servers.\n```\nso I guess it is internal issue indeed.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1657827392,"metadata":{"github-id":"IC_kwDODBZtRc5Gnv6H","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184824967"},"message":"`DANDI:` identifiers do go through identifiers.org.  However, identifiers with a version of \"draft\" do not have entries on identifiers.org, and so they are not supported in this form, [as documented on the Read the Docs site](https://dandi.readthedocs.io/en/latest/ref/urls.html).","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1657828005,"metadata":{"github-id":"IC_kwDODBZtRc5GnyAq","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184833578"},"message":"cool. Can we just then output in error message that \n\n```\nDANDI:\u003cdandiset id\u003e[/\u003cversion id\u003e]  (note: \u003cversion id\u003e must not be draft)\n```\n?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1657828149,"metadata":{"github-id":"IC_kwDODBZtRc5Gnydg","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184835424"},"message":"but perhaps we can support `/draft` ? is there any reason not to?","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1657828199,"metadata":{"github-id":"IC_kwDODBZtRc5Gnym5","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184836025"},"message":"@satra Wouldn't that involve giving DOIs to drafts?  I don't believe that's an option.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1657828614,"metadata":{"github-id":"IC_kwDODBZtRc5Gn0A5","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184841785"},"message":"\u003e Wouldn't that involve giving DOIs to drafts? I don't believe that's an option.\n\nthis is unrelated to DOIs. identifiers.org does not have any relation directly to the DOIs. \n\ni'm simply suggesting the CLI parse this as `DANDI:ID + /draft` and if the version is draft add that back in to the redirect link from `identifiers.org`.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1657835054,"metadata":{"github-id":"IC_kwDODBZtRc5GoHuh","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184922529"},"message":"We support `DANDI:\u003cdandiset id\u003e/\u003cversion id\u003e` because it is supported by identifiers.org. identifiers.org **does not** support `DANDI:\u003cdandiset id\u003e/draft`. If we start support it in `dandi-cli` it might suggest to the user that identifiers.org support it which is not the case. So -- shouldn't we better not introduce confusion?\n\nFor similar reasoning I think we would not add support `[DOI]/path` to point to some `/path` within DOI'ed dataset since dois do not support them.  We might provide some custom sugaring syntax though but would make it more obvious to avoid confusion.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1657837131,"metadata":{"github-id":"IC_kwDODBZtRc5GoObJ","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1184949961"},"message":"i don't think it's confusion. the id of a draft dandiset is `DANDI:\u003cid\u003e/draft` (it's in the metadata). hence we are saying that is the identifier for a draft dandiset. the reason we don't support it in identifiers.org is simply because we didn't want people to be able to resolve that to encourage people to publish to get resolution.\n\nbut the dandi cli is different. data uploaders also use it all the time, and therefore having access to that id would be useful to the user experience of the data submitter.","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1657917622,"metadata":{"github-id":"CE_lADODBZtRc5NynpDzwAAAAGhgKny"},"status":2},{"type":3,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1657917954,"metadata":{"github-id":"IC_kwDODBZtRc5Gr4V-","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1185908094"},"message":"\u003c!-- GITHUB_RELEASE COMMENT: released --\u003e\n:rocket: Issue was released in [`0.45.1`](https://github.com/dandi/dandi-cli/releases/tag/0.45.1) :rocket:","files":null},{"type":5,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1657917955,"metadata":{"github-id":"LE_lADODBZtRc5NynpDzwAAAAGhgUDm"},"added":["released"],"removed":[]},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1657918861,"metadata":{"github-id":"IC_kwDODBZtRc5Gr-sP","github-url":"https://github.com/dandi/dandi-cli/issues/1058#issuecomment-1185934095"},"message":"\u003e the id of a draft dandiset is `DANDI:\u003cid\u003e/draft` (it's in the metadata).\n\neh sneaky you -- tricked us all! ;) filed dedicated https://github.com/dandi/dandi-cli/issues/1065 for that","files":null}]}