{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1610500195,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc1OTEzNjg4OA==","github-url":"https://github.com/dandi/dandi-cli/issues/327#issuecomment-759136888"},"message":"some times it might be not 502 but just\n```\n  File \"/home/dandi/proj/dandi/dandi-cli/dandi/girder.py\", line 293, in _traverse_asset_girder                                                                                                                                                                     \n    file_recs = list(self.listFile(g[\"_id\"]))                                                                                                                                                                                                                      \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/girder_client/__init__.py\", line 578, in listResource                                                                                                                                    \n    records = self.get(path, params)                                                                                                                                                                                                                               \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/girder_client/__init__.py\", line 503, in get                                                                                                                                             \n    return self.sendRestRequest('GET', path, parameters, jsonResp=jsonResp)                                                                                                                                                                                        \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/girder_client/__init__.py\", line 484, in sendRestRequest                                                                                                                                 \n    result = f(                                                                                                                                                                                                                                                    \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/requests/sessions.py\", line 543, in get                                                                                                                                                  \n    return self.request('GET', url, **kwargs)                                                                                                                                                                                                                      \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/requests/sessions.py\", line 530, in request                                                                                                                                              \n    resp = self.send(prep, **send_kwargs)                                                                                                                                                                                                                          \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/requests/sessions.py\", line 643, in send                                                                                                                                                 \n    r = adapter.send(request, **kwargs)                                                                                                                                                                                                                            \n  File \"/home/dandi/miniconda3/envs/dandisets/lib/python3.8/site-packages/requests/adapters.py\", line 498, in send                                                                                                                                                 \n    raise ConnectionError(err, request=request)                                                                                                                                                                                                                    \nrequests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer')) \n```\nI wonder if it would be feasible /helpful to just try/except around\n```\n  File \"/home/dandi/proj/dandi/dandi-cli/dandi/girder.py\", line 293, in _traverse_asset_girder                                                                                                                                                                     \n    file_recs = list(self.listFile(g[\"_id\"])\n```\nand try a few times in case of failures (on HttpError from girder or `requests.exceptions.ConnectionError:`)?\n\nATM we have similar failures about once a day while running that backup2datalad script each hour.  So failures are not that frequent but do happen.","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1611605416,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDI0NzUwMjkyNA=="},"status":2}]}