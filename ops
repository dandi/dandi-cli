{"version":2,"ops":[{"type":5,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1650894432,"metadata":{"github-id":"LE_lADODBZtRc5IZGl0zwAAAAGC328e"},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650896054,"metadata":{"github-id":"IC_kwDODBZtRc5CFGbZ","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108633305"},"message":"@satra The error message is saying that `micr/sub-MITU01_ses-20210521h17m17s06_sample-178_stain-NPY_run-1_chunk-1_SPIM.ngff` itself is a directory tree with more than five levels.  If you believe this is inaccurate, can you point to somewhere that I can inspect this dataset?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1650896230,"metadata":{"github-id":"IC_kwDODBZtRc5CFHTz","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108636915"},"message":"this is the file: https://api.dandiarchive.org/api/dandisets/000108/versions/draft/assets/1838aeed-c773-400e-84b1-be0b8fa63dd9/","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650897206,"metadata":{"github-id":"IC_kwDODBZtRc5CFMSr","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108657323"},"message":"@satra That Zarr doesn't seem to have been processed by the API server; specifically, the `/zarr/{zarr_id}.zarr/` endpoint returns 404.  Hence, I can't inspect the filetree, and I'm not about to download some ginormous Zarr just to list its files.","files":null},{"type":6,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650897215,"metadata":{"github-id":"UCE_lALODBZtRc5CFMSrziK54BA"},"target":"01f05485bd54a79447551d666bad77b09b33a56d71506bab3c12a2741d3ae528","message":"@satra That Zarr doesn't seem to have been processed by the API server; specifically, the `/zarr/{zarr_id}.zarr/` endpoint returns 404.  Hence, I can't inspect the filetree.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1650897339,"metadata":{"github-id":"IC_kwDODBZtRc5CFM9p","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108660073"},"message":"it's there: https://dandiarchive.s3.amazonaws.com/zarr/56509720-870c-4f43-ae41-7b75f9590722/.zattrs","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650898211,"metadata":{"github-id":"IC_kwDODBZtRc5CFRCi","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108676770"},"message":"@satra The files under `0/0/0/0/0/` are too deep.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1650898890,"metadata":{"github-id":"IC_kwDODBZtRc5CFUVw","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108690288"},"message":"then the cli needs to be fixed to add that level. those files are perfectly legitimate files for ngff.\n\n`ls micr/sub-MITU01_ses-20210521h17m17s06_sample-178_stain-LEC_run-1_chunk-1_SPIM.ngff/0/0/0/0/0/0`\n\nthe last 0 is a leaf node.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1650898924,"metadata":{"github-id":"IC_kwDODBZtRc5CFUio","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108691112"},"message":"i would call this an urgent fix because all of the ngff files from 108 would have this pattern.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650899017,"metadata":{"github-id":"IC_kwDODBZtRc5CFVCP","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108693135"},"message":"For the record, the depth limit was imposed as instructed in [this comment](https://github.com/dandi/dandi-cli/issues/852#issuecomment-995976767).\n\n@satra Are you asking to increase the limit or to get rid of the check entirely?\n\nCC: @yarikoptic","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1650899646,"metadata":{"github-id":"IC_kwDODBZtRc5CFYWF","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108706693"},"message":"at least increase the limit since we are limiting zarr to ngff files, but we should discuss in the future if other types of zarr files should be supported. \n\nfor the moment increasing that check to 7 (even 6) should cover our current use cases.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1650902121,"metadata":{"github-id":"IC_kwDODBZtRc5CFjqW","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108753046"},"message":":+1: to increase to 7 for now","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650902770,"metadata":{"github-id":"IC_kwDODBZtRc5CFmhK","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108764746"},"message":"PR (marked with \"release\"): https://github.com/dandi/dandi-cli/pull/984","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1650905325,"metadata":{"github-id":"CE_lADODBZtRc5IZGl0zwAAAAGC9YVx"},"status":2},{"type":3,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1650905605,"metadata":{"github-id":"IC_kwDODBZtRc5CFyD7","github-url":"https://github.com/dandi/dandi-cli/issues/983#issuecomment-1108812027"},"message":"\u003c!-- GITHUB_RELEASE COMMENT: released --\u003e\n:rocket: Issue was released in [`0.39.3`](https://github.com/dandi/dandi-cli/releases/tag/0.39.3) :rocket:","files":null},{"type":5,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1650905606,"metadata":{"github-id":"LE_lADODBZtRc5IZGl0zwAAAAGC9fzv"},"added":["released"],"removed":[]}]}