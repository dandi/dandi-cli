{"version":2,"ops":[{"type":1,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1588260378,"metadata":{"github-id":"MDU6SXNzdWU2MTAxNDI2MDA=","github-url":"https://github.com/dandi/dandi-cli/issues/92","origin":"github"},"title":"downloading a single item results in an error","message":"now that we can get download links from the gui, this should be possible but results in an error.\n\n```\n$ dandi download https://girder.dandiarchive.org/api/v1/item/5e7b9e41529c28f35128c743/download\nError: \n```\n\nmore details:\n\n```\n$ dandi -l DEBUG --pdb download -o . https://girder.dandiarchive.org/api/v1/item/5e7b9e41529c28f35128c743/download\nTraceback (most recent call last):\n  File \"/Users/satra/software/miniconda3/envs/dandi/bin/dandi\", line 8, in \u003cmodule\u003e\n    sys.exit(main())\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/click/core.py\", line 764, in __call__\n    return self.main(*args, **kwargs)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/click/core.py\", line 717, in main\n    rv = self.invoke(ctx)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/click/core.py\", line 1137, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/click/core.py\", line 956, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/dandi/cli/command.py\", line 118, in wrapper\n    return f(*args, **kwargs)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/dandi/cli/cmd_download.py\", line 53, in download\n    return download(url, output_dir, existing=existing, develop_debug=develop_debug)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/dandi/download.py\", line 139, in download\n    girder_server_url, asset_type, asset_id = parse_dandi_url(url)\n  File \"/Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/dandi/download.py\", line 75, in parse_dandi_url\n    assert not u.query\nAssertionError\n\n\u003e /Users/satra/software/miniconda3/envs/dandi/lib/python3.7/site-packages/dandi/download.py(75)parse_dandi_url()\n-\u003e assert not u.query\n(Pdb) url\n'https://dandiarchive.s3.amazonaws.com/girder-assetstore/3d/2e/3d2e88d88a974644a6722bdd5790a27b?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIA3GIMZPVVBOFDICEV%2F20200430%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20200430T152456Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=FwoGZXIvYXdzEPH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDJC9loqF4xaxKesvsSK%2FAauvxzItfPkUwulK2K4nVW%2F2xmiIDfonE5UF6fB3KjGlIASW0MTXj8IC6GCFx6kD90HjOIjirro7WPFfYM%2FhhztHjwvDC3bBBH76mzMup1sr3U8wrHkw3S5wIXjIj%2B244Us0maaDVsefgO%2B8g1hfYf7SUDQiLvCe%2BdseyTn4DqAX5NS9TVEG2baaoN2u1FFkX7%2Biy1C1xq3ZAKtq%2FYQEXKZ54UlzoPrH%2BnXzwl1ex%2FKyKtJmRWuoC9CF1sk0dpHUKMvaq%2FUFMi2UKOyzApfKMsXDLIETFNj4hOcunLbVCHYvEuqtvWmAWUCkkxGHyIv%2Ft6JvLCA%3D\u0026X-Amz-Signature=d94191f2886c8b192c4bb4fb44f9dc35cf9b4aa296914baaa64e400f67096389'\n```","files":null}]}