{"version":2,"ops":[{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1623851984,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg2MjQwNTUwMQ==","github-url":"https://github.com/dandi/dandi-cli/issues/674#issuecomment-862405501"},"message":"the metadata one, when set appropriately should be the preferred approach as there is no way for CLI to decide without actually trying to download/head request whether the url belongs to a public or private bucket. so the CLI should not be in a position to try and parse the contentUrl.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1623852109,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg2MjQwNzQwOA==","github-url":"https://github.com/dandi/dandi-cli/issues/674#issuecomment-862407408"},"message":"yes -- it should be just a HEAD request on redirect.\n\nMy concern with using metadata, is that then some ad-hoc logic would need to be in place to decide which URL to choose from the list.  A generic solution would be to provide a shortcut `.content_urls` but then it would be up for a user to filter them out, so not really providing a complete solution IMHO.","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1624297246,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDkxODI1ODgwOA=="},"status":2}]}