{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1727451172,"metadata":{"github-id":"I_kwDODBZtRc6YLw0D","github-url":"https://github.com/dandi/dandi-cli/issues/1501","origin":"github"},"title":"ls --help does not format supported URI schemes correctly","message":"in \n- #601 \nwe added listing of them, but either it came in broken (unlikely) or got broken somewhere along the road since currently looks like this\n\n```shell\n‚ùØ dandi ls --help\nUsage: dandi ls [OPTIONS] PATH|URL\n\n  List .nwb files and dandisets metadata.\n\n  The arguments may be either resource identifiers or paths to local\n  files/directories.\n\n  RESOURCE ID/URLS:\n\n   dandi commands accept URLs and URL-like identifiers called \u003cresource  ids\u003e\n   in the following formats for identifying Dandisets, assets, and  asset\n   collections.\n\n   Text in [brackets] is optional.  A server field is a base API or GUI URL\n   for a DANDI Archive instance.  If an optional ``version`` field is  omitted\n   from a URL, the given Dandiset's most recent published version  will be\n   used if it has one, and its draft version will be used otherwise.      \n   Accepted resource identifier patterns:  - DANDI:\u003cdandiset id\u003e[/\u003cversion\u003e]\n   - https://gui.dandiarchive.org/...  -\n   https://identifiers.org/DANDI:\u003cdandiset id\u003e[/\u003cversion id\u003e] (\u003cversion id\u003e\n   cannot be 'draft')  - https://\u003cserver\u003e[/api]/[#/]dandiset/\u003cdandiset\n   id\u003e[/\u003cversion\u003e][/files[?location=\u003cpath\u003e]]  - https://*dandiarchive-\n   org.netlify.app/...  - https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset\n   id\u003e[/versions[/\u003cversion\u003e]]  - https://\u003cserver\u003e[/api]/assets/\u003casset\n   id\u003e[/download]  - https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset\n   id\u003e/versions/\u003cversion\u003e/assets/\u003casset id\u003e[/download]  -\n   https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset\n   id\u003e/versions/\u003cversion\u003e/assets/?path=\u003cpath\u003e  -\n   https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset\n   id\u003e/versions/\u003cversion\u003e/assets/?glob=\u003cglob\u003e  - dandi://\u003cinstance\n   name\u003e/\u003cdandiset id\u003e[@\u003cversion\u003e][/\u003cpath\u003e]  - https://\u003cserver\u003e/...\n```\n\nI have vague memory that @asmacdo might have fixed or RFed some code along similar lines in some past here or elsewhere.  Please have a look if you could \n\n- identify what broke it (if it was kosher to start with)\n- fixup\n- add a test which would ensure we do not brake it again","files":null}]}