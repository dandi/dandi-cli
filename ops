{"version":2,"ops":[{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1650553592,"metadata":{"github-id":"IC_kwDODBZtRc5B4kwx","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1105349681"},"message":"@yarikoptic The `--dandi-api` option used by the dandi-archive + dandi-cli integration tests only selects tests that use the Docker setup, and \"adjusting\" the test by just setting `DANDI_REDIRECTOR_BASE` in the integration tests will likely mess up various other tests.  Should a separate test be added that does the same thing as this one, only focused on the Docker setup, or should the test be rewritten completely to only ever test against Docker?  Or something else?","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1651582267,"metadata":{"github-id":"IC_kwDODBZtRc5ChcJo","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1116062312"},"message":"@yarikoptic Ping; please respond to previous comment.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1651604661,"metadata":{"github-id":"IC_kwDODBZtRc5Ci9BS","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1116459090"},"message":"Proceed with the minimal impact. I guess testing against dandi-archive docker setup (and thus \"development\" version in their CI iirc)  would be sufficient.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1652370726,"metadata":{"github-id":"IC_kwDODBZtRc5DEJX2","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1125160438"},"message":"@yarikoptic What exactly are you asking for?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1652375212,"metadata":{"github-id":"IC_kwDODBZtRc5DEaXB","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1125230017"},"message":"since redirector service was deprecated and now dandi-archive is the one providing `/server-info` that test should be adjusted so that testing in dandi-archive\n\n```\n(git)lena:~/proj/dandi/dandi-archive[enh-release]git\n$\u003e git grep -3 pytest .github\n.github/workflows/cli-integration.yml-\n.github/workflows/cli-integration.yml-      - name: Run dandi-api tests in dandi-cli\n.github/workflows/cli-integration.yml-        run: |\n.github/workflows/cli-integration.yml:          python -m pytest -s -v --dandi-api \\\n.github/workflows/cli-integration.yml-            \"$pythonLocation/lib/python${{ matrix.python }}/site-packages/dandi\"\n.github/workflows/cli-integration.yml-        env:\n.github/workflows/cli-integration.yml-          DANDI_TESTS_PERSIST_DOCKER_COMPOSE: \"1\"\n```\nwould test its new version/PR against it.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1653581745,"metadata":{"github-id":"IC_kwDODBZtRc5D3-QW","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1138746390"},"message":"@yarikoptic Are you saying that the Dockerized Dandi Archive now provides a `/server-info` endpoint?  Because, after updating the test, I'm getting a 404.","files":null},{"type":6,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1653581927,"metadata":{"github-id":"UCE_lALODBZtRc5D3-QWziOevs0"},"target":"23dc5f97b998d853ec9f9367c9c7f33ae9742231521cf16f6f64bdc7712b6423","message":"@yarikoptic Are you saying that the Dockerized Dandi Archive now provides a `/server-info` endpoint?  Because, after updating the test, I'm getting a 404.\n\n[This seems to imply](https://github.com/dandi/dandi-archive/blob/master/web/netlify/plugins/server-info-build/index.js) that `/server-info` is a redirect to `/api/info/` provided by netlify.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1653588429,"metadata":{"github-id":"IC_kwDODBZtRc5D4cFs","github-url":"https://github.com/dandi/dandi-cli/issues/977#issuecomment-1138868588"},"message":"you must be correct and I was wrong/mislead -- most likely indeed redirects since I see no mentioning of server-info in datalad-archive...   filed https://github.com/dandi/dandi-archive/issues/1108","files":null},{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1653588436,"metadata":{"github-id":"LE_lADODBZtRc5IMH7KzwAAAAGOmuaE"},"added":["blocked"],"removed":[]}]}