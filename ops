{"version":2,"ops":[{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1671474019,"metadata":{"github-id":"LE_lADODBZtRc5Zm7e4zwAAAAHhH9I2"},"added":["cmd-ls"],"removed":[]},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1671539473,"metadata":{"github-id":"IC_kwDODBZtRc5RBRxc","github-url":"https://github.com/dandi/dandi-cli/issues/1178#issuecomment-1359289436"},"message":"@yarikoptic I did not introduce the mandatory checksum part, apparently it was always needed, just that we were not doing it and that messed up metadata extraction for a number of files.\n\nBasically this line will fail if we do not have a checksum: https://github.com/dandi/dandi-cli/blob/0eaec43b057c630be292cbd47cb9906408480f7c/dandi/files/bids.py#L200 with\n\n```\n2022-11-28T09:11:37-0500 [DEBUG   ] dandi 17368:140251460831040 Problem obtaining metadata for asl004/sub-Sub1/anat/sub-Sub1_T1w.nii.gz: 1 validation error for BareAsset\ndigest\n  A non-zarr asset must have a dandi-etag. (type=value_error)\n```\n\nI believe this is required by dandi-schema, though I was unable to figure out where exactly.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1671539544,"metadata":{"github-id":"UCE_lALODBZtRc5RBRxczirqLJI"},"target":"c45e559d12d48810203b46795cc4a3183f6cca5139caa2386481c6d3e114a5c7","message":"@yarikoptic I did not introduce the mandatory checksum part, apparently it was always needed, just that we were not doing it and that messed up metadata extraction for a number of files.\n\nBasically this line (and similar others) will fail if we do not have a checksum: https://github.com/dandi/dandi-cli/blob/0eaec43b057c630be292cbd47cb9906408480f7c/dandi/files/bids.py#L200 with\n\n```\n2022-11-28T09:11:37-0500 [DEBUG   ] dandi 17368:140251460831040 Problem obtaining metadata for asl004/sub-Sub1/anat/sub-Sub1_T1w.nii.gz: 1 validation error for BareAsset\ndigest\n  A non-zarr asset must have a dandi-etag. (type=value_error)\n```\n\nI believe this is required by dandi-schema, though I was unable to figure out where exactly.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1671539622,"metadata":{"github-id":"UCE_lALODBZtRc5RBRxczirqMAA"},"target":"c45e559d12d48810203b46795cc4a3183f6cca5139caa2386481c6d3e114a5c7","message":"@yarikoptic I did not introduce the mandatory checksum part, apparently it was always needed, just that we were not doing it and that messed up metadata extraction for a number of files.\n\nBasically this line (and similar others) will fail if we do not have a checksum: https://github.com/dandi/dandi-cli/blob/0eaec43b057c630be292cbd47cb9906408480f7c/dandi/files/bids.py#L200 with\n\n```\n2022-11-28T09:11:37-0500 [DEBUG   ] dandi 17368:140251460831040 Problem obtaining metadata for asl004/sub-Sub1/anat/sub-Sub1_T1w.nii.gz: 1 validation error for BareAsset\ndigest\n  A non-zarr asset must have a dandi-etag. (type=value_error)\n```\n\nI believe this is required by dandi-schema, I tried to track it down in the hopes of just disabling it, though I was unable to figure out where exactly it's mandated.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1671637311,"metadata":{"github-id":"IC_kwDODBZtRc5RJzBU","github-url":"https://github.com/dandi/dandi-cli/issues/1178#issuecomment-1361522772"},"message":"we need to look into making it \"optional\" for `ls` I guess.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1671649081,"metadata":{"github-id":"IC_kwDODBZtRc5RLQfF","github-url":"https://github.com/dandi/dandi-cli/issues/1178#issuecomment-1361905605"},"message":"We have an option to use a fake digest https://github.com/dandi/dandi-cli/blob/0eaec43b057c630be292cbd47cb9906408480f7c/dandi/cli/cmd_ls.py#L69 â€” do you want to make that the default and optionally have `--use-real-digest` ? ðŸ¤”","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1671649127,"metadata":{"github-id":"UCE_lALODBZtRc5RLQfFzir6p7E"},"target":"d47ef87d3c7c15fdd51d68cd180aa184dee54d6be2bad6b8d91374c77aaae8ba","message":"We have an option to use a fake digest https://github.com/dandi/dandi-cli/blob/0eaec43b057c630be292cbd47cb9906408480f7c/dandi/cli/cmd_ls.py#L69 â€” do you want to make that the default and optionally have `--use-real-digest` ? ðŸ¤”\n\n@jwodder does this sound like a good idea?","files":null},{"type":5,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1671730690,"metadata":{"github-id":"LE_lADODBZtRc5Zm7e4zwAAAAHiqq8g"},"added":["waiting"],"removed":[]},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1710164396,"metadata":{"github-id":"IC_kwDODBZtRc52hZzv","github-url":"https://github.com/dandi/dandi-cli/issues/1178#issuecomment-1988467951"},"message":"Solved via the merged PR above.","files":null},{"type":4,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1710164398,"metadata":{"github-id":"CE_lADODBZtRc5Zm7e4zwAAAALPqBpu"},"status":2}]}