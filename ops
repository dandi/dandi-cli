{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1678394795,"metadata":{"github-id":"IC_kwDODBZtRc5XMDvs","github-url":"https://github.com/dandi/dandi-cli/issues/1249#issuecomment-1462778860"},"message":"yeap - staging already moved to new version while we are testing/getting ready in #1241 here as well .\nunfortunately we just don't have a good smooth way to upgrade versions of schema  across all components yet :-/","files":null},{"type":2,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1678397474,"metadata":{"github-id":"RTE_lADODBZtRc5gcCC5zwAAAAIHUO2X"},"title":"dandi version error in staging","was":"dandi version error in staging"},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1678412423,"metadata":{"github-id":"IC_kwDODBZtRc5XNNi_","github-url":"https://github.com/dandi/dandi-cli/issues/1249#issuecomment-1463081151"},"message":"but it also made me wonder -- @satra - didn't we add at some point possibility of upgrading metadata from older versions to the newest exactly for such need that client could in principle be a little outdated and still be able to upload? restricting to exactly the same version makes it all too rigid IMHO.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1678413275,"metadata":{"github-id":"IC_kwDODBZtRc5XNPjX","github-url":"https://github.com/dandi/dandi-cli/issues/1249#issuecomment-1463089367"},"message":"i don't think we ever agreed on autoupgrade on the server side, which is where that would need to happen. also there is currently no notion of failure of that kind on the server side.  in this case minimum could be set to `0.6.3` on the server, but it won't auto upgrade i think.\n\nin general i would be in favor of autoupgrade, but the exception handling has to be robust. i.e. if it cannot we need to notify user and us.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1678419144,"metadata":{"github-id":"IC_kwDODBZtRc5XNrMk","github-url":"https://github.com/dandi/dandi-cli/issues/1249#issuecomment-1463202596"},"message":"in response to @CodyCBakerPhD https://github.com/dandi/dandi-cli/pull/1241#issuecomment-1462785834 ( I think it would fit better here)\n\n\u003e \u003e https://github.com/dandi/dandi-cli/issues/1249 I believe is against staging -- see dandiset id there.\n\u003e It's true, the CI tests upload to staging. Just wanted you to be aware as soon as it happened so same doesn't happen to \nthe main server\n\nto be clear -- it is not our dandi-cli CI but rather your tool (neuroconv) CI dos that.\n\nTo not appear hyppocritical -- I disclose that we also do such a drill in https://github.com/dandi/dandisets/ testing for specifics which I forgot about (I bet @jwodder remembers). But alternatively, as we do in dandi-cli, you can simply use our fixtures defined in https://github.com/dandi/dandi-cli/blob/HEAD/dandi/tests/fixtures.py#L342 to have your local docker-compose'd instance of dandi-archive for your tests, thus not relying on external staging instance at all (not that it would behave any differently ;-) )","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1678423134,"metadata":{"github-id":"IC_kwDODBZtRc5XN11s","github-url":"https://github.com/dandi/dandi-cli/issues/1249#issuecomment-1463246188"},"message":"\u003e thus not relying on external staging instance at all (not that it would behave any differently ;-) )\n\nOur goal is to guarantee that the explicit workflow we, or any user, would call to the actual archive (or staging) works - am I wrong that there is some minimal difference between a local docker-compose'd instance of the 'dandi-archive' and the real thing?\n\nAlso then, in the event of this error, how would someone upload data to staging? Would they have to pin to some dev branch on the CLI to make the versions match?","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1678479733,"metadata":{"github-id":"CE_lADODBZtRc5gcCC5zwAAAAIH2y1S"},"status":2},{"type":3,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1678479842,"metadata":{"github-id":"IC_kwDODBZtRc5XSJos","github-url":"https://github.com/dandi/dandi-cli/issues/1249#issuecomment-1464375852"},"message":"\u003c!-- GITHUB_RELEASE COMMENT: released --\u003e\n:rocket: Issue was released in [`0.51.0`](https://github.com/dandi/dandi-cli/releases/tag/0.51.0) :rocket:","files":null},{"type":5,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1678479843,"metadata":{"github-id":"LE_lADODBZtRc5gcCC5zwAAAAIH21P2"},"added":["released"],"removed":[]}]}