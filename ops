{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1621274152,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0MjUxOTM0OQ==","github-url":"https://github.com/dandi/dandi-cli/issues/608#issuecomment-842519349"},"message":"I think we should do it.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1621279277,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0MjU3MTQ4Mw==","github-url":"https://github.com/dandi/dandi-cli/issues/608#issuecomment-842571483"},"message":"@yarikoptic Are you sure adding a dedicated subcommand is necessary instead of just following the steps in Click's documentation?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1621284689,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0MjYzMDA4Mw==","github-url":"https://github.com/dandi/dandi-cli/issues/608#issuecomment-842630083"},"message":"to my taste generic doc of fish would be a scary place for a user to figure out what he/she needs to do.  Also there are differences between shells.  With a tiny command we have a chance to streamline it so they could \n- discover they can do it (from `dandi --help` listing of commands)\n- discover how they can do it (from `dandi  shell-completion --help`)\n\nI thought that we should be able to detect which shell  they are invoking it from based on SHELL since should be done via `source ` as well, didn't  check, but we should have option `--shell={auto,bash,zsh,fish}` and for auto try to deduce from the environment.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1621343935,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0MzE2NDgwMg==","github-url":"https://github.com/dandi/dandi-cli/issues/608#issuecomment-843164802"},"message":"@yarikoptic I presume you want tests for this?  What exactly should they test for?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1621347356,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0MzIwOTkwNA==","github-url":"https://github.com/dandi/dandi-cli/issues/608#issuecomment-843209904"},"message":"test would indeed be lovely. Here is what we did in datalad: https://github.com/datalad/datalad/blob/HEAD/datalad/interface/tests/test_shell_completion.py  so pretty much smoke test that code runs and produces output, and that it could be sourced.  Do not skip on windows but condition on `distutils.spawn.find_executable('bash')` or alike.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1621348585,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0MzIyNzM2NQ==","github-url":"https://github.com/dandi/dandi-cli/issues/608#issuecomment-843227365"},"message":"@yarikoptic The tests are failing on GitHub Actions' Windows environments because, even though `bash` is present in the `PATH`, running it fails with \"Windows Subsystem for Linux has no installed distributions.\"","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1621449931,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDc2ODYyMTI4OQ=="},"status":2}]}