{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1623851664,"metadata":{"github-id":"MDU6SXNzdWU5MjI2NDU5MjM=","github-url":"https://github.com/dandi/dandi-cli/issues/674","origin":"github"},"title":"RemoteAsset.blob_url or .s3_url property","message":"Continuing on https://github.com/dandi/dandi-cli/issues/672#issuecomment-862006521 @bendichter \n\n\u003e unfortunately, the ros3 driver does not follow a redirect. it needs a direct s3 url.\n\nI think the best course of action would be to have .blob_url which would be obtained by following the redirect of `.download_url` and provide that one as the result.  Then it would work for any alternative setup (minio etc).\n\nAn alternative I have considered: have .s3_url property which would filter metadata's contentUrl for the first URL which points to S3. It might be preferable one for ROS3 operation on NWB files since would be more explicit, but makes it more ad-hoc IMHO.\n\nFor @bendichter 's needs I think either of those would work, so I will leave to @jwodder to decide which one to take (note that ATM `.s3_url` from metadata would also be a signed one: https://github.com/dandi/dandi-api/issues/231#issuecomment-861086394)","files":null}]}