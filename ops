{"version":2,"ops":[{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1612554307,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQyOTc3MjU0OTE="},"added":["enhancement"],"removed":[]},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1612557409,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc3NDI3NTE1Mg==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-774275152"},"message":"i'll add my comments to this:\n\njust wanted  file this that we would likely want two upload modes [sync, append (default)] + a special delete mode to remove assets from a dandiset.\n\nit may also be helpful to have a helper that can clear out a dandiset ( with sufficient prompting for confirmation - type dandiset id, yes, etc.,.)\n\nuse cases:\n\n- 2+ groups submitting data collected in two different locations for the same project.  each group should not have to download the data from other groups to sync/upload. the merge could happen on the server. \n- i want to clear out assets because the metadata or the NWB file did not have the correct info. it would be good to be able to clear out all the assets in a dandiset.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1612565896,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc3NDMzMzExNg==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-774333116"},"message":"\u003e two upload modes [sync\n\n`dandi upload --sync`\n\n\u003e , append (default)]\n\n`dandi upload`\n\nthis should work ok with \"2+ groups\" use case\n\n\u003e delete mode to remove assets from a dandiset.\n\u003e ...\n\u003e i want to clear out assets because the metadata or the NWB file did not have the correct info. it would be good to be able to clear out all the assets in a dandiset.\n\nI think we better have a general ability to reupload just the metadata.  So something like `--existing overwrite-metadata` of #355 . Delete + reupload might cause avoidable data transfer + minting of new UUIDs (if UUID is attached to an asset \"draft instance\" as it is now)","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1612570003,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc3NDM1MzU0OQ==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-774353549"},"message":"but nwb files have changed - so not just metadata. this is what happened with one of the datasets that ben was working on.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1612571634,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc3NDM2MDU2Nw==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-774360567"},"message":"Then just upload --existing=refresh","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1612635076,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc3NDUxODA3OA==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-774518078"},"message":"to clarify\n\n`no flag` == `rsync -au`\n`sync --existing=refresh` == `rsync -au --delete`","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1615423109,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5NjMyNTkzNw==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-796325937"},"message":"either in current API implementation or provision looking forward in the API (#447 ) but time to get `sync` implemented.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1615473131,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5Njc3ODg3NA==","github-url":"https://github.com/dandi/dandi-cli/issues/365#issuecomment-796778874"},"message":"@yarikoptic So \"sync\" mode should be the same as `upload --existing=refresh`/`download --existing=refresh`, but if a file on the local side (when uploading) or on the remote side (when downloading) does not exist on the other side, delete it?","files":null},{"type":5,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1616599343,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ1MDI2MTI2ODU="},"added":["waiting"],"removed":[]}]}