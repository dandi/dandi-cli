{"version":2,"ops":[{"type":1,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1616968218,"metadata":{"github-id":"MDU6SXNzdWU4NDI4Mzk1ODA=","github-url":"https://github.com/dandi/dandi-cli/issues/518","origin":"github"},"title":"development on osx","message":"i finally got fed up with relying on github for giving me errors and decided to give tox a go. however running into a missing library scenario, when the library is definitely available in my console.\n\ni read through the Development.md, but that did not say i need to do anything special on osx. and in general i can run pytest on specific files, just not the full set of tests that involves deploying docker compose, which i would like to do.\n\n\u003cdetails\u003e \u003csummary\u003eTox error\u003c/summary\u003e\n\n```\n$ tox\nGLOB sdist-make: /Users/satra/software/dandi/dandi-cli/setup.py\nlint installed: dandi==0.12.1+33.g67c3583,flake8==3.8.3,importlib-metadata==1.7.0,mccabe==0.6.1,pycodestyle==2.6.0,pyflakes==2.2.0,zipp==3.1.0\nlint run-test-pre: PYTHONHASHSEED='115503756'\nlint run-test: commands[0] | flake8 --config=setup.cfg dandi setup.py\npy3 inst-nodeps: /Users/satra/software/dandi/dandi-cli/.tox/.tmp/package/1/dandi-0.12.1+33.g67c3583.zip\npy3 installed: appdirs==1.4.4,attrs==20.3.0,blessings==1.7,cached-property==1.5.2,certifi==2020.11.8,chardet==3.0.4,ci-info==0.2.0,click==7.1.2,click-didyoumean==0.0.3,coverage==5.3,dandi==0.12.1+33.g67c3583,diskcache==5.1.0,dnspython==2.0.0,email-validator==1.1.2,etelemetry==0.2.2,fasteners==0.15,girder-client==3.1.3,h5py==3.1.0,hdmf==2.2.0,humanize==3.1.0,idna==2.10,importlib-metadata==3.1.0,iniconfig==1.1.1,joblib==0.17.0,jsonschema==3.2.0,keyring==21.5.0,keyrings.alt==4.0.1,monotonic==1.5,numpy==1.19.4,packaging==20.7,pandas==1.1.4,pluggy==0.13.1,py==1.9.0,pycryptodomex==3.9.9,pydantic==1.7.3,pyfakefs==4.3.2,pynwb==1.4.0,pyout==0.7.0,pyparsing==2.4.7,pyrsistent==0.17.3,pytest==6.1.2,pytest-cov==2.10.1,pytest-mock==3.3.1,python-dateutil==2.8.1,pytz==2020.4,requests==2.25.0,requests-toolbelt==0.9.1,responses==0.12.1,ruamel.yaml==0.16.12,ruamel.yaml.clib==0.2.2,scipy==1.5.4,semantic-version==2.8.5,six==1.15.0,toml==0.10.2,tqdm==4.54.0,typing-extensions==3.7.4.3,urllib3==1.26.2,zipp==3.4.0\npy3 run-test-pre: PYTHONHASHSEED='115503756'\npy3 run-test: commands[0] | coverage erase\npy3 run-test: commands[1] | coverage run -m pytest -v dandi\nImportError while loading conftest '/Users/satra/software/dandi/dandi-cli/dandi/conftest.py'.\ndandi/conftest.py:1: in \u003cmodule\u003e\n    from .tests.fixtures import *  # noqa: F401, F403\ndandi/tests/fixtures.py:23: in \u003cmodule\u003e\n    from ..pynwb_utils import make_nwb_file, metadata_nwb_file_fields\ndandi/pynwb_utils.py:8: in \u003cmodule\u003e\n    from fscacher import PersistentCache\nE   ModuleNotFoundError: No module named 'fscacher'\nERROR: InvocationError for command /Users/satra/software/dandi/dandi-cli/.tox/py3/bin/coverage run -m pytest -v dandi (exited with code 4)\n___________________________________________ summary ____________________________________________\n  lint: commands succeeded\nERROR:   py3: commands failed\n(dandi) [satra@MacBook-Pro-8 dandi-cli (enh/context)]$ conda list | grep fscacher\nfscacher                  0.1.4                    pypi_0    pypi\n(dandi) [satra@MacBook-Pro-8 dandi-cli (enh/context)]$ ipython\nPython 3.7.5 (default, Oct 25 2019, 10:52:18) \nType 'copyright', 'credits' or 'license' for more information\nIPython 7.18.1 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: from fscacher import PersistentCache\n\nIn [2]: \n```\n\u003c/details\u003e","files":null}]}