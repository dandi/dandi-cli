{"version":2,"ops":[{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1688142220,"metadata":{"github-id":"LE_lADODBZtRc5qQoXVzwAAAAJBjGuh"},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1688562996,"metadata":{"github-id":"IC_kwDODBZtRc5gqcSk","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1621738660"},"message":"@gmazzamuto \n\n* Is the dataset on an NFS file system?\n* Is `sub-I59_ses-SPIM_sample-BrocaAreaS01_stain-Calretinin_SPIM.ome.zarr` a symlink or the target of a symlink?\n* Is `sub-I59_ses-SPIM_sample-BrocaAreaS01_stain-Calretinin_SPIM.ome.zarr` empty?","files":null},{"type":3,"author":{"id":"b47d70447f48e9670debced52b0983080ea7199d"},"timestamp":1688564023,"metadata":{"github-id":"IC_kwDODBZtRc5gqkBS","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1621770322"},"message":"Yes, the dataset is on an NFS file system. The directory is not a symlink and is not empty.","files":null},{"type":3,"author":{"id":"b47d70447f48e9670debced52b0983080ea7199d"},"timestamp":1695914240,"metadata":{"github-id":"IC_kwDODBZtRc5nrsSe","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1739506846"},"message":"Hi all, any news on this one? I have a bunch of new data to upload. Otherwise I'll have to upload in OME-TIFF rather than zarr, to meet the project deadlines","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695919321,"metadata":{"github-id":"IC_kwDODBZtRc5nsVfP","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1739675599"},"message":"I thought we provided guidance, sorry -- slipped through, probably mixed up with https://github.com/dandi/dandi-cli/issues/1321. Could you please\n\n- reconfirm that issue persists and traceback is similarly implicating fscacher\n- try upload while specifying `DANDI_CACHE=ignore`\n- report back on either :+1: or :-1:","files":null},{"type":6,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695919496,"metadata":{"github-id":"UCE_lALODBZtRc5nsVfPzjgrZsg"},"target":"d9f57703b1a1ea7845bd22e9af5bc42c80dc195d8de2baa6d8e6761e1f07938c","message":"I thought we provided guidance, sorry -- slipped through, probably mixed up with https://github.com/dandi/dandi-cli/issues/1321. Could you please\n\n- reconfirm that issue persists and traceback is similarly implicating fscacher\n- try upload while specifying `DANDI_CACHE=clear`, and if that doesn't help:\n- try upload while specifying `DANDI_CACHE=ignore`\n- report back on either :+1: or :-1:","files":null},{"type":6,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695919523,"metadata":{"github-id":"UCE_lALODBZtRc5nsVfPzjgraH0"},"target":"d9f57703b1a1ea7845bd22e9af5bc42c80dc195d8de2baa6d8e6761e1f07938c","message":"I thought we provided guidance, sorry -- slipped through, probably mixed up with https://github.com/dandi/dandi-cli/issues/1321. Could you please\n\n- reconfirm that issue persists and traceback is similarly implicating fscacher\n- try upload while specifying `DANDI_CACHE=clear`, and if that doesn't help:\n- try upload while specifying `DANDI_CACHE=ignore`\n- report back on either :+1: or :-1:\n\nedit note: I have added `clear` in addition to original `ignore`  only","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695919964,"metadata":{"github-id":"IC_kwDODBZtRc5nsZFT","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1739690323"},"message":"1 more question: which dandiset it is? it is BIDS one right?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695920429,"metadata":{"github-id":"IC_kwDODBZtRc5nsb8k","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1739702052"},"message":"one more... if you get a chance before trying above, sorry for the flood, it would help\n\n```\nDANDI_DEVEL=1 dandi --pdb upload  --devel-debug ...the rest of options like you did\n```\n\nthen whenever it errors out and gets into debugger, could you please show me what is that object is . Do command `up` in pdb a number of times  until you get to the level of `  File \"/opt/lib/python3.8/site-packages/dandi/files/bases.py\", line 339, in iter_upload`. There just do `p self` and show what that self is ;-)","files":null},{"type":6,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695920547,"metadata":{"github-id":"UCE_lALODBZtRc5nsb8kzjgrtzc"},"target":"964bf9aa5a4d2647cfe635e170e85adc204cc4930578dff3081825ca38820d57","message":"one more... if you get a chance before trying above, sorry for the flood, it would help\n\n```\nDANDI_DEVEL=1 dandi --pdb upload  --devel-debug ...the rest of options like you did\n```\n\nthen whenever it errors out and gets into debugger, could you please show me what is that object is . Do command `up` in pdb a number of times  until you get to the level of `  File \"/opt/lib/python3.8/site-packages/dandi/files/bases.py\", line 339, in iter_upload`. There just do `p self` and show what that self is ;-)\n\n\nPS edit: above is for myself to see if it is due to the fact that ` ZarrBIDSAsset(BIDSAsset, ZarrAsset):` and `BIDSAsset(LocalFileAsset):` so I think that `iter_upload` gets from `LocalFileAsset` not from `ZarrAsset` here.  We would need to overload to ensure that correct one is used, or may be just place ZarrAsset first in multiple inheritance?... need to check if we have any test which uploads zarr from a bids dataset.","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1695956744,"metadata":{"github-id":"CE_lADODBZtRc5qQoXVzwAAAAJyOEYS"},"status":2},{"type":3,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1695956798,"metadata":{"github-id":"IC_kwDODBZtRc5nuhkL","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1740249355"},"message":"\u003c!-- GITHUB_RELEASE COMMENT: released --\u003e\n:rocket: Issue was released in [`0.56.2`](https://github.com/dandi/dandi-cli/releases/tag/0.56.2) :rocket:","files":null},{"type":5,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1695956799,"metadata":{"github-id":"LE_lADODBZtRc5qQoXVzwAAAAJyOFT3"},"added":["released"],"removed":[]},{"type":3,"author":{"id":"7a8552494914d3e4116f4b434eb4812a914ca405"},"timestamp":1695956801,"metadata":{"github-id":"IC_kwDODBZtRc5nuhkh","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1740249377"},"message":"\u003c!-- GITHUB_RELEASE COMMENT: released --\u003e\n:rocket: Issue was released in [`0.56.2`](https://github.com/dandi/dandi-cli/releases/tag/0.56.2) :rocket:","files":null},{"type":3,"author":{"id":"b47d70447f48e9670debced52b0983080ea7199d"},"timestamp":1696329691,"metadata":{"github-id":"IC_kwDODBZtRc5n_g7m","github-url":"https://github.com/dandi/dandi-cli/issues/1307#issuecomment-1744703206"},"message":"OK thanks, seems fixed now","files":null}]}