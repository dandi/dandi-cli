{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1647880130,"metadata":{"github-id":"I_kwDODBZtRc5GEscm","github-url":"https://github.com/dandi/dandi-cli/issues/942","origin":"github"},"title":"Queue up assets \"for later\" if needing some wait time to become upload-able","message":"In #930 @dchiquito suggests to address legit UX aspect that canceling of zarr upload might take awhile and thus before attempting the next one, we might need to wait.\n\nIdeally `upload` process, while performing uploads (not while canceling them), should skip assets which aren't yet ready to be uploaded (e.g. not ready on the server side as in this case) and come back to them later.  This way \n\n- `upload` process wouldn't get stuck waiting for some asset to finally start/finish uploading\n- proceed with upload of other assets\n- we can interrupt upload process quickly and fire up a new upload process which would auto-magically wait if needed for upload to finally commence\n\nso, `upload` should \n- skip uploads which can't be uploaded for a reason now and should be retried later\n- whenever \"upload queue\" has only assets being waited for -- sense if they could be uploaded \"now\".\n- set some period of time (e.g. a minute) an asset shouldn't be tested to be reuploaded\n- if no asset satisfy \"retry\" -- sleep until an asset could be retried an upload","files":null}]}