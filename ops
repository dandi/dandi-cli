{"version":2,"ops":[{"type":1,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1753747146,"metadata":{"github-id":"I_kwDODBZtRc7DAANf","github-url":"https://github.com/dandi/dandi-cli/issues/1671","origin":"github"},"title":"api request: asset blob id to asset/dandiset/version","message":"I need to build a map from asset blob id to dandiset(s). Currently, I am doing this by:\n\n```python\nclient = DandiAPIClient()\n\nwith shelve.open(\"asset_blob_to_dandiset\") as db:\n    for dandiset in tqdm(list(client.get_dandisets()), position=1):\n        for version in tqdm(list(dandiset.get_versions()), position=2, leave=False):\n            dandiset = client.get_dandiset(dandiset_id=dandiset.identifier, version_id=version.identifier)\n            for asset in tqdm(list(dandiset.get_assets()), position=3, leave=False):\n                blob_id = asset.zarr if \".zarr\" in pathlib.Path(asset.path).suffixes else asset.blob\n                db[blob_id] = dandiset.identifier\n```\n\nThis works, but feels terrible inefficient because I really only need the map for a subset of assets, but since I don't know which dandisets they belong to I am forced to iterate over all of them in order to create a reverse map. It would be great if I could have an endpoint like `assets/blob/{blob_id}/` which would return asset metadata. Ideally, this would include the ids of each dandiset that contains this asset and versions within each of those dandisets that contain this asset.","files":null}]}