{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1626988629,"metadata":{"github-id":"IC_kwDODBZtRc40w7P9","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-885240829"},"message":"- just now spotted that there is a `RemoteAsset.download_url` which is a property which provides a url. \n- there is also RemoteAsset.download\n- may be should become just `download` with `recursive: bool = False` (raising NotImplementedError for True for now) and defaulting to path `/` (top) ?","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1627308570,"metadata":{"github-id":"IC_kwDODBZtRc402oga","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-886736922"},"message":"@yarikoptic I'm not a fan of merging the two methods into a single `download()`, especially with an unimplemented `recursive` option.  Also, are you still in favor of the name `download_assets_under_path()` given #738?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1627311915,"metadata":{"github-id":"IC_kwDODBZtRc402z1q","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-886783338"},"message":"\u003e Also, are you still in favor of the name `download_assets_under_path()` given #738?\n\napparently not - so we might need both renamed :-/  and as #738 showed, I got a wrong meaning of `download_assets_under_path` from its name... I will think more about it -- WDYT names should be @jwodder ?","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1627312287,"metadata":{"github-id":"IC_kwDODBZtRc4021Np","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-886788969"},"message":"@yarikoptic On closer inspection (I thought there was already a separate `download()` method for downloading an entire Dandiset), I'd be fine with renaming to `download()` and defaulting the path to the root.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1627312567,"metadata":{"github-id":"IC_kwDODBZtRc4022Pj","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-886793187"},"message":"I think there is only `download` for an asset, not a dandiset:\n\n```shell\n(git)lena:~/proj/dandi/dandi-cli-master[master]git\n$\u003e git describe\n0.24.0\n\n$\u003e git grep -p 'def download.*('\ndandi/cli/cmd_download.py=class ChoiceList(click.ParamType):\ndandi/cli/cmd_download.py:def download(\ndandi/dandiapi.py=class RemoteDandiset:\ndandi/dandiapi.py:    def download_directory(\ndandi/dandiapi.py=class RemoteAsset(APIBase):\ndandi/dandiapi.py:    def download_url(self) -\u003e str:\ndandi/dandiapi.py:        def downloader(start_at: int = 0) -\u003e Iterator[bytes]:\ndandi/dandiapi.py:    def download(\ndandi/download.py=lgr = get_logger()\ndandi/download.py:def download(\ndandi/download.py:def download_generator(\ndandi/tests/test_dandiapi.py=def test_publish_and_manipulate(local_dandi_api, monkeypatch, tmp_path):\ndandi/tests/test_dandiapi.py:    def downloaded_files():\n```","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1641913910,"metadata":{"github-id":"IC_kwDODBZtRc48NEdg","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-1010059104"},"message":"@yarikoptic So what exactly do you want done for this issue?","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1644953765,"metadata":{"github-id":"IC_kwDODBZtRc4-B-46","github-url":"https://github.com/dandi/dandi-cli/issues/732#issuecomment-1040707130"},"message":"I think \"nothing\" for now.  This method is used only internally in a single test\n\n```shell\n(git)lena:~/proj/dandi/dandi-cli-master[master]git\n$\u003e git grep -p download_directory      \ndandi/dandiapi.py=class RemoteDandiset:\ndandi/dandiapi.py:    def download_directory(\ndandi/tests/test_dandiapi.py=def test_upload(new_dandiset: SampleDandiset, simple1_nwb: str, tmp_path: Path) -\u003e None:\ndandi/tests/test_dandiapi.py:    d.download_directory(\"\", tmp_path)\n\n$\u003e git describe\n0.35.0-207-g533eeb9\n```\n\nIn general we should strive to have a single implementation for download, but current `dandi.download.download` is heavily CLI oriented etc.  Let's close this issue for now","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1644953765,"metadata":{"github-id":"CE_lADODBZtRc44sCHXzwAAAAFqQu9_"},"status":2}]}