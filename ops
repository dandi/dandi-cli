{"version":2,"ops":[{"type":1,"author":{"id":"818a29386a430d42cbb57ad6dcccbe0fb486ffc3"},"timestamp":1640278710,"metadata":{"github-id":"I_kwDODBZtRc5A15KW","github-url":"https://github.com/dandi/dandi-cli/issues/856","origin":"github"},"title":"Add support for uploading embargoed files","message":"The dandi-api changes are currently still in draft PRs, but the external API shouldn't change.\n\n* https://github.com/dandi/dandi-api/pull/643 adds an `embargo_status` field to the dandiset list and fetch endpoints. If `embargo_status == \"EMBARGOED\"`, then any assets should be uploaded as embargoed assets. See https://github.com/dandi/dandi-api/blob/65dc262ea565d03b089cd435c8a0d912638a95ae/doc/design/embargo-mvp.md?plain=1#L64-L74 and https://github.com/dandi/dandi-api/blob/65dc262ea565d03b089cd435c8a0d912638a95ae/doc/design/embargo-mvp.md?plain=1#L108\n* When uploading an embargoed asset, `{..., \"embargoed_dandiset\": \"123456\"}` should be included in the JSON request body. This will begin an embargoed upload. No other upload endpoints need this additional argument. See https://github.com/dandi/dandi-api/blob/65dc262ea565d03b089cd435c8a0d912638a95ae/doc/design/embargo-mvp.md?plain=1#L142-L155\n* Creating an asset from the blob_id will work exactly the same as normal uploads, but this has not yet been implemented.","files":null}]}