{"version":2,"ops":[{"type":6,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1586732279,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlRWRpdDozNzAwMTI0ODg="},"target":"a4dc218fe76589b9908ed16629fb25c3242de6cabad38ae60538df3107fc76b1","message":"There are a few issues around `subject_id`:\n\n1) `dandi validate` does not enforce that `subject_id` is present, but `dandi organize` requires it. \n2) When `dandi organize` runs on a file that is missing `subject_id` it complains about missing metadata, but does not specify what this missing metadata is. \n3) Our [user guide](https://docs.google.com/document/d/1ehxd5a6Hurz7VqQDAszEpGASRTUP6muXYwJ5wgXhzU4/edit) does not mention what to do in the case of `dandi organize` complaining, so a user will just carry on and will be confused when no data is uploaded.\n\nThis is all exacerbated by the fact that [ipfx](https://github.com/AllenInstitute/ipfx/tree/master/ipfx), the main conversion software for ABF and DAT icephys files out of the Allen Institute, doesn't currently even have a way to add a `Subject` object to the nwb file in the first place (so you can't specify `subject_id`). I have made a pull request to be able to add this information [here](https://github.com/AllenInstitute/ipfx/pull/400).","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1586880167,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxMzUzMDU5Mg==","github-url":"https://github.com/dandi/dandi-cli/issues/78#issuecomment-613530592"},"message":"#82 will address `1.` and will be rush released later today (if all good) \n\nRe `2.` - I think it should have issued a warning like\n```\n2020-04-14 11:48:19,247 [ WARNING] subject_id is missing for ../../../.tmp/tmp1j6vvjnd/v2.0.1/test_OptogeneticStimulusSite.nwb\n```\nthus specifying which field (subject_id) and in what file.  Could you please copy/paste complaint which you saw?","files":null}]}