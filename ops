{"version":2,"ops":[{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1626965137,"metadata":{"github-id":"IC_kwDODBZtRc40v5df","github-url":"https://github.com/dandi/dandi-cli/issues/726#issuecomment-884971359"},"message":"i think CLI is our main use case at the moment, more than library, so i think it should happen in the CLI, but possibly for any command (including ls and organize, which could be affected by schema versions).\n\nonce the library is actually released, we can check how to inform user then. in other projects we tend to call it once in init and never gets called again. but is called each time for a python process (but we pass on `NO_ET` to subprocesses).","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1626965533,"metadata":{"github-id":"IC_kwDODBZtRc40v6tc","github-url":"https://github.com/dandi/dandi-cli/issues/726#issuecomment-884976476"},"message":"we are using it as a library already in many ad-hoc scripts, and who knows what users do on the hub etc.  library was released from day 1 of the CLI release if not before, we just do not promote it too heavily I guess ;)\n\n`NO_ET` -- hm, we probably should not \"alter\" behavior for \"other libraries\", so may be as part of the fix for this issue, @jwodder we should introduce `DANDI_NO_ET` and\n\n- if present - do not do the test\n- after test is done, assign it in `sys.environ`\n\nagain -- who knows how users would use the beast.  WDYT @satra ?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1626965733,"metadata":{"github-id":"IC_kwDODBZtRc40v7XY","github-url":"https://github.com/dandi/dandi-cli/issues/726#issuecomment-884979160"},"message":"sounds good and indeed dandi should use `DANDI_NO_ET`","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1626977081,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NTA1NzE4OTM4Nw=="},"status":2}]}