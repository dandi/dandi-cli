{"version":2,"ops":[{"type":1,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1658180232,"metadata":{"github-id":"I_kwDODBZtRc5OARow","github-url":"https://github.com/dandi/dandi-cli/issues/1073","origin":"github"},"title":"bids dataset detection","message":"transferring thought process to new issue from #1069 \n\n\u003e code finds BIDS datasets\n\nshouldn't this only look up towards root from current location (and obviously not look if allow any path is used). \n\n#### find dandiset.yaml to determine where to look for bids dataset_description.json files\n\nalso i'm assuming 26 is a culprit in the thinking, so any depth traversal could be a heuristic depth based on where dandiset.yaml is. (as in a dataset_description.json has to be either at the level of dandiset.yaml, or perhaps at most 2-3 directories down from dandiset.yaml). \n\neven with our hacked setup, there shouldn't be a need to traverse everything. i can't offhand think of other scenarios that violate this.\n\n```\n[000108] / {dandiset.yaml}, dataset_description.json\n[000026] / dandiset.yaml\n[000026] / [rawdata] / dataset_description.json\n[000026] / [derivatives] / [EPIC] / dataset_description.json\n```\n\nand we could formalize this into our validator.","files":null}]}