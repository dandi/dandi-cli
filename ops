{"version":2,"ops":[{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1611633659,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzI4MTAzNA==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767281034"},"message":"we will likely need to hack it in our models for the time being  through custom parsers for embedded types. there is an open issue around this issue (https://github.com/samuelcolvin/pydantic/issues/1409) that may soon see a PR.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1611634419,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzI4NDcyMQ==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767284721"},"message":"or should we just remove them for now ? (#344) ;)","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1611634545,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzI4NTIxNg==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767285216"},"message":"that's not the only place where the roundtrip will run into an issue. so removing them doesn't solve the issue.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1611674823,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzYxOTI5NA==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767619294"},"message":"yes, but it is one of them so provides partial temporal workaround which would help to proceed ATM AFAIK. Sure thing if there is an alternative route which could resolve them in short term - we could go that way too (but waiting on PR in pydantic + release might take awhile)","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1611675118,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzYyMjk0OQ==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767622949"},"message":"we definitely cannot wait for their PR, but we can change our models to support round tripping and exporting cleaner json. this is really about serialization and deserialization.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1611675956,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzYzMjcwMA==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767632700"},"message":"btw, i did this check at the level of the model and this seems to work. i have to check how well it works with nested models:\n\n```\nIn [13]: AccessRequirements(status=AccessType.Open).json()\nOut[13]: '{\"status\": \"dandi:Open\", \"email\": null, \"contactPoint\": null, \"description\": null, \"embargoedUntil\": null}'\n\nIn [15]: AccessRequirements(**json.loads(AccessRequirements(status=AccessType.Open).json\n    ...: ()))\nOut[15]: AccessRequirements(status=\u003cAccessType.Open: 'dandi:Open'\u003e, email=None, contactPoint=None, description=None, embargoedUntil=None)\n```","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1611676457,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc2NzYzODUzMQ==","github-url":"https://github.com/dandi/dandi-cli/issues/343#issuecomment-767638531"},"message":"also simple nesting works:\n\n```\nIn [17]: AccessRequirements(**json.loads(AccessRequirements(status=AccessType.Open, cont\n    ...: actPoint=ContactPoint(email=\"satra@mit.edu\")).json()))\nOut[17]: AccessRequirements(status=\u003cAccessType.Open: 'dandi:Open'\u003e, email=None,\n contactPoint=ContactPoint(email='satra@mit.edu', url=None), description=None, embargoedUntil=None)\n\nIn [18]: AccessRequirements(status=AccessType.Open, contactPoint=ContactPoint(email=\"sat\n    ...: ra@mit.edu\")).json()\nOut[18]: '{\"status\": \"dandi:Open\", \"email\": null, \"contactPoint\": {\"email\": \"satra@mit.edu\", \"url\": null},\n \"description\": null, \"embargoedUntil\": null}'\n```","files":null}]}