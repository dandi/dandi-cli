{"version":2,"ops":[{"type":1,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1759067375,"metadata":{"github-id":"I_kwDODBZtRc7OWH75","github-url":"https://github.com/dandi/dandi-cli/issues/1713","origin":"github"},"title":"duration of sessions","message":"I am involved in a project where it is useful to estimate the number of hours of publicly available data across the archive for different modalities (ephys, ca imaging, etc.). This currently requires examination of the contents of (all) NWB files individually, but I think this is a good candidate for pulling more metadata into the asset metadata. This would help a lot of anyone interested in filtering neurophysiology recordings by the duration of the session. We could also provide a total duration attribute in the assets summary, which might be of interest to data users. At the very least it will help us communicate the volume of data available in the archive.\n\nI think it would be possible to represent this without modification to the schema using the wasGeneratedBy [Activity](https://github.com/dandi/dandi-schema/blob/12b071a890b187cd55d3d01d352ecd02da36f34f/dandischema/models.py#L1196), which has fields for startDate and endDate (which are in fact datetimes).\n\nThis would just involve creating a new \"acquisition\" activity where the start date is taken directly from the NWB session_start_time and the end date is calculated by the getting the max duration of all the time series and time intervals tables.\n\nIf there is interest in this, I can put together a few functions that could plug into the DANDI CLI to accomplish this.","files":null}]}