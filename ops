{"version":2,"ops":[{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1624311417,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg2NTM2MTc3OA==","github-url":"https://github.com/dandi/dandi-cli/issues/677#issuecomment-865361778"},"message":"@dchiquito - i'm pretty sure it's because that dataset doesn't pass validation because it uses a really old version. for testing you could add `--validation skip` or use a subset of data from a more recent dandiset from the production server.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1624318628,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg2NTQxMzAyMQ==","github-url":"https://github.com/dandi/dandi-cli/issues/677#issuecomment-865413021"},"message":"wow -- some fun one deeply entrenched into `pyout`.  meanwhile, you can add `--devel-debug` so it would not use pyout and thus not even parallelize and only spit out the records to the screen.  Please share those for your upload here: that would then help to see what freaks pyout out ;-) \n\nmeanwhile -- I will try to replicate and see if could be easily fixed on dandi-cli side or might need pyout tuning","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1624319359,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg2NTQyMDI3NQ==","github-url":"https://github.com/dandi/dandi-cli/issues/677#issuecomment-865420275"},"message":"the crash issue -- please check pyout version you have. I have `0.7.0` and without skipping validation , as @satra correctly hinted on, it seems to \"work\" (although output screwed up but it doesn't crash):\n```\n$\u003e DANDI_DEVEL=1 dandi upload -i dandi-staging -e force sub-anm372909/sub-anm372909_ses-20170522.nwb \nPlease provide API Key for dandi-staging: d7bb3970ac4802f4d06c0ef4fd7f5720b05423eb\n2021-06-21 19:39:58,601 [    INFO] Found 1 files to consider\nPATH                                         SIZE    ERRORS UPLOAD STATUS           MESSAGE\nsub-anm372909/sub-anm372909_ses-20170522.nwb 5.7 MB                pre-validating          \nSummary:                                     5.7 MB                1 pre-validating        \nPATH                                     SIZE       ERRORS     UPLOAD STATUS           MESSAGE            ...372909/sub-anm372909_ses-20170522.nwb 5.7 MB        4              skipped          failed validation  \nSummary:                                 5.7 MB  1 with errors        1 skipped        1 failed validation\n2021-06-21 19:39:58,847 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20210621233945Z-3478926.log\n\n```\nand running ignoring validation still doesn't crash but shows the new unexpected `asset` field:\n```\nlena:/tmp/000018\n$\u003e DANDI_DEVEL=1 dandi upload -i dandi-staging -e force --validation ignore sub-anm372909/sub-anm372909_ses-20170522.nwb\n2021-06-21 19:40:22,195 [    INFO] Found 1 files to consider\nPATH                                         SIZE      ERRORS     UPLOAD STATUS MESSAGE ASSET                                                                                                                        \nsub-anm372909/sub-anm372909_ses-20170522.nwb 5.7 MB       4              done           client=\u003cdandi.dandiapi.DandiAPIClient object at 0x7fb600811400\u003e dandiset_id='000018' version_id='draft' identifier='e2ebde...\nSummary:                                     5.7 MB 1 with errors        1 done                                                                                                                                      \n2021-06-21 19:40:23,435 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20210621234019Z-3479080.log\n```\nbut again -- doesn't crash.  I filed a dedicated issue for the \"unexpected\" `asset`  field: https://github.com/dandi/dandi-cli/issues/678","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1630088639,"metadata":{"github-id":"IC_kwDODBZtRc42Fa0c","github-url":"https://github.com/dandi/dandi-cli/issues/677#issuecomment-907390236"},"message":"Payout issue was fixed in https://github.com/dandi/dandi-cli/pull/679 so I guess issue is addressed. Feel very welcome to reopen if not","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1630088639,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NTIyMDA3ODYzNQ=="},"status":2}]}