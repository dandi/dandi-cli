{"version":2,"ops":[{"type":1,"author":{"id":"f3557c4ceea08ee5e22c6aab1e8604bfb798bfa4"},"timestamp":1765784201,"metadata":{"github-id":"I_kwDODBZtRc7eRoji","github-url":"https://github.com/dandi/dandi-cli/issues/1769","origin":"github"},"title":"Failures in tests with marker `obolibrary`","message":"Recent test [failures](https://github.com/dandi/dandi-cli/actions/runs/20180629885/job/58024975882?pr=1760) on tests with marker `obolibrary` seems to be cause by content at address such as http://purl.obolibrary.org/obo/NCBITaxon_1234175 is not XML but HTML, and the `xml.dom.minidom.parseString` function is not able to parse such content.\n\n```console\n/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/site-packages/tenacity/__init__.py:480: in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\ndandi/metadata/util.py:430: in parse_purlobourl\n    doc = parseString(req.text)\n          ^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/xml/dom/minidom.py:2009: in parseString\n    return expatbuilder.parseString(string)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/xml/dom/expatbuilder.py:922: in parseString\n    return builder.parseString(string)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/xml/dom/expatbuilder.py:220: in parseString\n    parser.Parse(string, True)\nE   xml.parsers.expat.ExpatError: syntax error: line 1, column 0\n```\n\nHowever, it seems that the content at http://purl.obolibrary.org/obo/NCBITaxon_1234175 has always been HTML. How was the `xml.dom.minidom.parseString` function able to parse the HTML content at the page previously? Should we instead change to use addresses such as https://ontobee.org/ontology/rdf/NCBITaxon?iri=http://purl.obolibrary.org/obo/NCBITaxon_1234175, which contains comparable RDF document?","files":null}]}