{"version":2,"ops":[{"type":1,"author":{"id":"6e881351ad6dfa7a540eb123e379a5bf552d282a"},"timestamp":1754488485,"metadata":{"github-id":"I_kwDODBZtRc7EgXAn","github-url":"https://github.com/dandi/dandi-cli/issues/1672","origin":"github"},"title":"dandi organize errors on zarr files","message":"From the dandi-cli log:\n\n```\n\u003e\u003e\u003e dandi organize path\\\\to\\\\data_1file_zarr\n\nTraceback (most recent call last):\n  File \"C:\\Users\\RBO\\repos\\mbo_utilities\\.venv\\Lib\\site-packages\\dandi\\cli\\base.py\", line 126, in wrapper\n    return f(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\RBO\\repos\\mbo_utilities\\.venv\\Lib\\site-packages\\dandi\\cli\\cmd_organize.py\", line 112, in organize\n    organize(\n  File \"C:\\Users\\RBO\\repos\\mbo_utilities\\.venv\\Lib\\site-packages\\dandi\\organize.py\", line 928, in organize\n    files_mode = detect_link_type(link_test_file, dandiset_path)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\RBO\\repos\\mbo_utilities\\.venv\\Lib\\site-packages\\dandi\\organize.py\", line 735, in detect_link_type\n    os.symlink(srcfile, destfile)\nTypeError: symlink: src should be string, bytes or os.PathLike, not NoneType\n```\n\nThis comes from [find_files](https://github.com/dandi/dandi-cli/blob/b8bb1de364e732d927e5e2c5bc86aaea6ba6acbb/dandi/organize.py#L841) incorrectly returning an empty list.\n\nManually organizing the dataset was done with @CodyCBakerPhD and uploaded to [DANDI Archive](https://dandiarchive.org/dandiset/001546/draft) for reference.\n\n---\n\n\u003cimg width=\"325\" height=\"336\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f111a600-c1b1-477f-8df8-a191fdc1d728\" /\u003e\n\nSide note: Since users can name zarr directories whatever they want, with or without file extensions, I think it's important to not use the extension as useful context to the contents of the file. This always confused me about zarr.","files":null}]}