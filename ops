{"version":2,"ops":[{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620397798,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ3MDIzNzU4NzE="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620397798,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ3MDIzNzU4Nzc="},"added":["cmd-ls"],"removed":[]},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620397974,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgzNDQ1OTc4Mw==","github-url":"https://github.com/dandi/dandi-cli/issues/619#issuecomment-834459783"},"message":"hm, `dandi://` URIs also do not work and silent about that\n\n```\n$\u003e dandi ls -f json_pp -r dandi://dandi/000027/draft/            \n2021-05-07 10:31:45,366 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20210507143143Z-3337929.log\n\n$\u003e cat /home/yoh/.cache/dandi-cli/log/20210507143143Z-3337929.log\n2021-05-07T10:31:43-0400 [INFO    ] dandi 3337929:140586975487808 dandi v0.16.0+2.g0dabaf4, hdmf v2.3.0, pynwb v1.4.0, h5py v2.10.0\n2021-05-07T10:31:43-0400 [INFO    ] dandi 3337929:140586975487808 sys.argv = ['/home/yoh/proj/dandi/dandi-cli-master/venvs/dev3/bin/dandi', 'ls', '-f', 'json_pp', '-r', 'dandi://dandi/000027/draft/']\n2021-05-07T10:31:43-0400 [INFO    ] dandi 3337929:140586975487808 os.getcwd() = /home/yoh/proj/dandi/dandi-cli-master\n2021-05-07T10:31:45-0400 [INFO    ] dandi 3337929:140586975487808 Logs saved in /home/yoh/.cache/dandi-cli/log/20210507143143Z-3337929.log\n```","files":null},{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620397985,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ3MDIzOTg4Mzk="},"added":["severity-important"],"removed":[]},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1620402303,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgzNDU0OTQ1MQ==","github-url":"https://github.com/dandi/dandi-cli/issues/619#issuecomment-834549451"},"message":"@yarikoptic For the `dandi://` URLs, the correct way to specify the version is as `dandi://dandi/000027@draft`.  Your URL requests the `draft/` directory inside 000027, which does not exist, and thus there is nothing to show.","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1620402470,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgzNDU1MzM1Mg==","github-url":"https://github.com/dandi/dandi-cli/issues/619#issuecomment-834553352"},"message":"@yarikoptic For the gui.dandiarchive.org URL, the problem is the trailing slash; everything works fine if you get rid of that.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1620402827,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgzNDU2MjU0MA==","github-url":"https://github.com/dandi/dandi-cli/issues/619#issuecomment-834562540"},"message":"`dandi://dandi/000027@draft` the use of `@` here seems different from all our URIs even though it's a parseable scheme, why the change relative to all other forms? including the fact that identifiers.org has the form `DANDI:\u003cid\u003e/\u003cversion\u003e`","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620768645,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgzOTE4OTY5Mw==","github-url":"https://github.com/dandi/dandi-cli/issues/619#issuecomment-839189693"},"message":"It \n\n\u003e @yarikoptic For the gui.dandiarchive.org URL, the problem is the trailing slash; everything works fine if you get rid of that.\n\nwe should make it work with the final slash as well since that is the URL we see in the browser.  And then we need final slash when listing  a folder -- it becomes impossible to track when I need a slash and when I do not.\n\n\u003e @yarikoptic For the `dandi://` URLs, the correct way to specify the version is as `dandi://dandi/000027@draft`. Your URL requests the `draft/` directory inside 000027, which does not exist, and thus there is nothing to show.\n\nd'oh -- I fell into my own trap :-) :\n\n\u003e `dandi://dandi/000027@draft` the use of `@` here seems different from all our URIs even though it's a parseable scheme, why the change relative to all other forms? including the fact that identifiers.org has the form `DANDI:\u003cid\u003e/\u003cversion\u003e`\n\nthe initial idea was to make it \"easy\" to specify URL with optional `@version` and/or with `/path` within the dandiset.  But now I wonder if indeed I just set a trap for myself with this... I will think about it -- the \"problem\" with explicit and required `/\u003cversion\u003e` is that then we would need to allow for explicit `/latest-release` to point to the latest release and or `/latest` to point to the latest version (which might be in release or in draft if still exists).","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620852795,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDczODY4MzI5Ng=="},"status":2}]}