{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1677534391,"metadata":{"github-id":"IC_kwDODBZtRc5WQbk4","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1447147832"},"message":"indeed, it became impossible after we added validation of the paths to correspond to either BIDS or DANDI layout. And indeed it might be useful to still allow validation of loose .nwb files before they are organized into a DANDI or BIDS dandiset. But we would need to issue a warning that validation is not full.\n\nWe should first finish up/merge #1203 and then approach this.","files":null},{"type":5,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1677534396,"metadata":{"github-id":"LE_lADODBZtRc5eq-jdzwAAAAIB1LE_"},"added":["blocked"],"removed":[]},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1677539630,"metadata":{"github-id":"IC_kwDODBZtRc5WQ3Go","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1447260584"},"message":"thinking about it -- I think we still should fail, just informatively that the file(s) are not found belonging to any dandiset. Later we might add an option to be able to filterout/ignore some of the types of error.","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1677563759,"metadata":{"github-id":"IC_kwDODBZtRc5WSQRI","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1447625800"},"message":"The main point of this issue then is how these changes to the CLI/API broke the documentation: https://www.dandiarchive.org/handbook/13_upload/#data-uploadmanagement-workflow","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1677606218,"metadata":{"github-id":"IC_kwDODBZtRc5WV-jC","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1448601794"},"message":"If this is just DANDI-less nwb validation, why should it be run via `dandi`?","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1677675849,"metadata":{"github-id":"IC_kwDODBZtRc5Wbx1Z","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1450122585"},"message":"Because that's what the documentation has informed people to do for the nearly the past 3 years: https://github.com/dandi/handbook/blob/01a66f5f6ac2e00a8d1b6a7140802d55c0617948/docs/10_using_dandi.md#uploading-a-dandiset and still does to this day https://www.dandiarchive.org/handbook/13_upload/#data-uploadmanagement-workflow\n\nSo it's been understood as a core feature for all that time - kind of odd to have it removed all of a sudden without warning or updating the usage docs\n\nAlso, as I understood a part of the reason is to ensure that `dandi organize` actually has enough of the right metadata in the NWB files to give them unique names","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1677681280,"metadata":{"github-id":"IC_kwDODBZtRc5WcRnd","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1450252765"},"message":"We will need to\n- add an option to ignore that error\n- update documentation","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1677682121,"metadata":{"github-id":"IC_kwDODBZtRc5WcWt7","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1450273659"},"message":"\u003e If this is just DANDI-less nwb validation, why should it be run via `dandi`?\n\nwe might have our own \"extra\" requirements I guess. Also good for a user to not be spread across multiple tools to get basic job done.","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1677683333,"metadata":{"github-id":"IC_kwDODBZtRc5WcfO3","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1450308535"},"message":"My 2 cents: I think the preferred solution for an explicit call to `dandi validate` might just be to\n\n(1a) determine if run on files within a dandiset\n(2a) if not, don't even check if filenames are 'correct', just run normal recursive asset validation (2b) if yes, then go ahead and check filenames.\n(3) then might just add extra step in upload instructions to retry `dandi validate` again after the `dandi organize` step, or just let the validation during `dandi upload` take care of it","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1677690088,"metadata":{"github-id":"IC_kwDODBZtRc5WdMMw","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1450492720"},"message":"```shell\n‚ùØ python3 -c 'import this' | grep -e Zen -e Ex\nThe Zen of Python, by Tim Peters\nExplicit is better than implicit.\n```\nso I would consider 1a a little too implicit since then we can miss the case where people do consider running in a valid dandiset whenever they e.g. forgot to download `dandiset.yml`.","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1677692378,"metadata":{"github-id":"IC_kwDODBZtRc5Wde8q","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1450569514"},"message":"Fair enough, the most explicit way is indeed\n\n```\ndandi validate ... --ignore DANDI.NO_DANDISET_FOUND\n```\n\nwhen running outside","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1678218292,"metadata":{"github-id":"IC_kwDODBZtRc5W8oIK","github-url":"https://github.com/dandi/dandi-cli/issues/1211#issuecomment-1458733578"},"message":"I will consider this one resolved by #1234 and https://github.com/dandi/handbook/pull/79","files":null},{"type":4,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1678225919,"metadata":{"github-id":"CE_lADODBZtRc5eq-jdzwAAAAIGA0Pw"},"status":2}]}