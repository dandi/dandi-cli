{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1607095654,"metadata":{"github-id":"MDU6SXNzdWU3NTcxODY4NzY=","github-url":"https://github.com/dandi/dandi-cli/issues/305","origin":"github"},"title":"add a check that HEAD on the uploaded file reports correct size","message":"in light of https://github.com/dandi/dandiarchive/issues/517 we should verify more that upload succeeded.  ATM we only do \n```python\n            # Get uploaded file id\n            file_id, current = client.isFileCurrent(\n                item_rec[\"_id\"], path.name, path.absolute()\n            )\n            if not current:\n                yield skip_file(\"File on server was unexpectedly changed\")\n                return\n```\nso after that we should verify that it is of a correct size (not according to girder, but from HEAD on the download)","files":null}]}