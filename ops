{"version":2,"ops":[{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1584237771,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5OTE1NzY4MA==","github-url":"https://github.com/dandi/dandi-cli/issues/52#issuecomment-599157680"},"message":"fun.  so -- are you are outside of `000001`, and inside of it -- do you have symlinks or copied data? are symlinks relative?\n\nalso if you rerun with `--pdb` and post traceback - would be appreciated\n\nI have tried to replicate to just see that `-d` seems to lead to all kinds of incorrect treatment.\nYou should be able to just cd to your dandiset and run `dandi upload`","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1584237992,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5OTE1NzkxMQ==","github-url":"https://github.com/dandi/dandi-cli/issues/52#issuecomment-599157911"},"message":"the gotchas I ran into:\n```\nlena:~/.tmp/dandiset-D5M6e1G/organized\n$\u003e DANDI_DEVEL=1 dandi upload -i local-docker -d organized       \n2020-03-14 22:01:21,234 [    INFO] Found 2 files to consider\nPATH                 SIZE      ERRORS UPLOAD STATUS            MESSAGE                                           \ndandiset.yaml        369 Bytes   0           ERROR             Write access denied for collection 5e6ab9e6ed07...\nsub-1/sub-1.nwb      792.8 kB    0           ERROR             Write access denied for collection 5e6ab9e6ed07...\nSummary:             793.2 kB                2 ERROR           2 Write access denied for collection 5e6ab9e6ed...\n```\nand I am already in `organized` -- should have just crashed since there is no organized subdir\n\nand with attempt to upload from outside of it:\n```\nlena:~/.tmp/dandiset-D5M6e1G\n$\u003e DANDI_DEVEL=1 dandi upload -i local-docker -d organized\nTraceback (most recent call last):\n  File \"/home/yoh/proj/dandi/dandi-cli/venv/dev3/bin/dandi\", line 11, in \u003cmodule\u003e\n    load_entry_point('dandi', 'console_scripts', 'dandi')()\n  File \"/usr/lib/python3/dist-packages/click/core.py\", line 764, in __call__\n    return self.main(*args, **kwargs)\n  File \"/usr/lib/python3/dist-packages/click/core.py\", line 717, in main\n    rv = self.invoke(ctx)\n  File \"/usr/lib/python3/dist-packages/click/core.py\", line 1137, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File \"/usr/lib/python3/dist-packages/click/core.py\", line 956, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/usr/lib/python3/dist-packages/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/home/yoh/proj/dandi/dandi-cli/dandi/cli/command.py\", line 118, in wrapper\n    return f(*args, **kwargs)\n  File \"/home/yoh/proj/dandi/dandi-cli/dandi/cli/cmd_upload.py\", line 104, in upload\n    f\"Found no {dandiset_metadata_file} anywhere.  Use 'dandi register', 'download', or 'organize' first\"\nRuntimeError: Found no dandiset.yaml anywhere.  Use 'dandi register', 'download', or 'organize' first\n```","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1584379023,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5OTY2MDIwMw==","github-url":"https://github.com/dandi/dandi-cli/issues/52#issuecomment-599660203"},"message":"ok, for now I think I will just hide `-d` for upload, and reschedule the fix for 0.4.2","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597265886,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MzEwNzI3OQ==","github-url":"https://github.com/dandi/dandi-cli/issues/52#issuecomment-673107279"},"message":"`-d` was completely removed some time before 0.6.0, so I will just close for now","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1597265886,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzY0OTQyNzM0MQ=="},"status":2}]}