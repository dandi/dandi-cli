{"version":2,"ops":[{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1707849267,"metadata":{"github-id":"IC_kwDODBZtRc5zwwdD","github-url":"https://github.com/dandi/dandi-cli/issues/1405#issuecomment-1942161219"},"message":"@CodyCBakerPhD I don't believe the failures have anything to do with `tox` vs. non-`tox`, unless you happen to have an `http_proxy` envvar or similar set in your test environment.  The linked failures all involve connection errors to http://purl.obolibrary.org, so I assume that site is simply having issues.","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1707849515,"metadata":{"github-id":"IC_kwDODBZtRc5zwxzJ","github-url":"https://github.com/dandi/dandi-cli/issues/1405#issuecomment-1942166729"},"message":"OK, so you suggest retrying after a couple of hours?\n\nIs there a flag, environment variable, or other mode of running the dandi testing suite to suppress the running of external network dependent tests like that?\n\nJust noting I don't recall ever seeing things like this prior to the recent changes (and this CI has run daily for past couple of years); might totally coincidental though","files":null},{"type":3,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1707850054,"metadata":{"github-id":"IC_kwDODBZtRc5zw0zq","github-url":"https://github.com/dandi/dandi-cli/issues/1405#issuecomment-1942179050"},"message":"@CodyCBakerPhD If `DANDI_TESTS_NONETWORK` is set to a nonempty string, all network-accessing tests will be skipped.  Note that this includes everything that uses the Archive Docker image, so you'll be skipping a lot of tests.","files":null},{"type":3,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1707932395,"metadata":{"github-id":"IC_kwDODBZtRc5z47Jb","github-url":"https://github.com/dandi/dandi-cli/issues/1405#issuecomment-1944302171"},"message":"OK, opened https://github.com/NeurodataWithoutBorders/nwbinspector/pull/435 with a strategy that splits the network-dependent ones from the non-dependent ones and looking at what tests were not skipped in the latter case (https://github.com/NeurodataWithoutBorders/nwbinspector/actions/runs/7904129986/job/21573692838?pr=435) I'd say it covers a lot (but not all) of the DANDI tests that might be affected by the Inspector\n\nThanks for the pointer; I do still (even as of today) see the same connection reset issue on our side. I'll try adjusting that specific workflow more to mimic your own https://github.com/dandi/dandi-cli/blob/master/.github/workflows/test.yml","files":null},{"type":4,"author":{"id":"7eea5bdd45d6b031d3bf16a241db06db985fb528"},"timestamp":1707932395,"metadata":{"github-id":"CE_lADODBZtRc5_IcB5zwAAAAK_oshk"},"status":2}]}