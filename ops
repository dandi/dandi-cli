{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1585927246,"metadata":{"github-id":"MDU6SXNzdWU1OTM0NTc4OTE=","github-url":"https://github.com/dandi/dandi-cli/issues/72","origin":"github"},"title":"dandi diff: new command to show differences between files/directories/dandisets","message":"On .nwb files:\n- similar to `nib-diff` (nibabel's diff, basic implementation) would show differences in metadata fields. With a dedicated option, could also do data diffs summaries.\n- if no data diff is desired should be able to `diff` local and remote files -- we would just fetch metadata records from dandiarchive.\n\nOn directories:\n- would compare files listings and per file (as above)\n- also could diff locally or remotely\n- could (optionally) detect file renames based on `object id` we upload and/or later checksums (we do not upload those yet)\n\nOn dandisets\n- diff dandiset.yaml + diff directory with subdirectories (per above \"on directories\")\n \nRelates to the usecase of #70 where it is desired to see what files were already `dandi organize`d or not.  So users then could\n\n `dandi diff --find-renames /path/myorigdata /path/organized` \n\nor even \n\n`dandi diff --find-renames /path/myorigdata http://dandiarchive.org/dandiset/000XXX/draft`","files":null}]}