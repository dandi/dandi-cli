{"version":2,"ops":[{"type":3,"author":{"id":"bc8a3197725c0467cd24911ff10ce52a2905729e"},"timestamp":1632164415,"metadata":{"github-id":"IC_kwDODBZtRc43BtTt","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-923194605"},"message":"@TheChymera -ping","files":null},{"type":3,"author":{"id":"bc8a3197725c0467cd24911ff10ce52a2905729e"},"timestamp":1632280104,"metadata":{"github-id":"IC_kwDODBZtRc43G22u","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-924544430"},"message":"@satra - is it ok to add pybids as a new requirement?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1632280293,"metadata":{"github-id":"IC_kwDODBZtRc43G3Kr","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-924545707"},"message":"i would stay away from that for the moment mostly because it's a very heavy requirement. since you are parsing the filepath for a single file at the moment, a simple function + a dictionary for modality/technique mapping may work for the moment. \n\nbut eventually we may probably need pybids as an optional dependency.","files":null},{"type":3,"author":{"id":"bc8a3197725c0467cd24911ff10ce52a2905729e"},"timestamp":1632315278,"metadata":{"github-id":"IC_kwDODBZtRc43IOOp","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-924902313"},"message":"@satra - ok, so I understand I could add specific parsing and assume that this will not change much with new versions etc.","files":null},{"type":6,"author":{"id":"bc8a3197725c0467cd24911ff10ce52a2905729e"},"timestamp":1632315407,"metadata":{"github-id":"UCE_lALODBZtRc43IOOpzh3WWx8"},"target":"63e64e05d6c3b9b745b45eec0bd24fab6c3dda09e8fbccdb4f586be9d3906069","message":"@satra - ok, so I understand I could add specific parsing and assume that this will not change much with new versions etc. (basically ignoring the version info)","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1632402989,"metadata":{"github-id":"IC_kwDODBZtRc43LrMn","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-925807399"},"message":"a few more rules:. if it detects a bids dataset (i.e. dataset_description.json) and detects a `sub-` in filename, then:\n\n- it should also require a `participants.tsv` (normal bids doesn't require this)\n- if `sample-` in filename it should also require a `samples.tsv`\n- it should extract `age`, `sex`, and `species` and `tissue_type`\n\nso overall things to extract and inject into metadata are:\n- subject id\n- age\n- sex\n- species\n- genotype (if available)\n- modality (from folder)\n- technique (from suffix)\n- session id (if available)\n- sample id (if available)\n- sample type (when sample id is present)\n\nwe should perhaps start subclassing assets in dandischema soonish.","files":null},{"type":3,"author":{"id":"bc8a3197725c0467cd24911ff10ce52a2905729e"},"timestamp":1632409177,"metadata":{"github-id":"IC_kwDODBZtRc43MA43","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-925896247"},"message":"@satra - I talked to @TheChymera and he will work on the extraction this info from the BIDS files, but it is indeed not clear to me where we will add the info. Should we create a new schema first?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1632409454,"metadata":{"github-id":"IC_kwDODBZtRc43MB7g","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-925900512"},"message":"the current asset schema handles all of these fields. \n\nhere is an example nwb asset metadata: https://api.dandiarchive.org/api/dandisets/000008/versions/draft/assets/d387991e-f9c5-4790-9152-75885ddf5572/","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1632413426,"metadata":{"github-id":"IC_kwDODBZtRc43MPgk","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-925956132"},"message":"\u003e a few more rules:. if it detects a bids dataset (i.e. dataset_description.json) and detects a `sub-` in filename, then:\n\nI would say: detect presence of `dataset_description.json` file containing `BIDSVersion` field.\n\n\u003e but eventually we may probably need pybids as an optional dependency.\n\nmost likely only if it gets lighter -- now it has pandas dependency which brings in lots... there are discussions about some `pybids-lite` or alike.  Also - \"schema\" component of BIDS specification might get its own library to load/parse/validate (relevant discussion: https://github.com/bids-standard/bids-specification/issues/543) although it might indeed just get implemented within pybids.","files":null},{"type":3,"author":{"id":"bc8a3197725c0467cd24911ff10ce52a2905729e"},"timestamp":1634048574,"metadata":{"github-id":"IC_kwDODBZtRc44F3MU","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-941060884"},"message":"@TheChymera - are you still working on this?","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1634053997,"metadata":{"github-id":"IC_kwDODBZtRc44GLOx","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-941142961"},"message":"@djarecka hi, sorry, no, I got stuck in trying to get some sort of MWE (or already working example) to extract metadata from, and derive from there. I think I only just realized while working on some ephys data that conversion to NWB is different from DANDI metadata extraction (or at least it's provided by another package there). If you could share some sort of example of what we're working on, I could continue from there. Are we working on `dandi register /path/to/bids` or `dandi validate /path/to/bids`, or something else?","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1641585588,"metadata":{"github-id":"IC_kwDODBZtRc48ED7F","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1007697605"},"message":"Currently building an XS regex-based BIDS validator as part of the new BIDS schemacode package. The schema directory is parameterized so this can be pointed to our own version, if we have nonstandard datasets (e.g. `DANDI:000108`).\n\nhttps://github.com/bids-standard/bids-specification/issues/543#issuecomment-1007683914\n\n@satra do you know whether our 108 dataset has a schema version which they use, or is it:\n1. ad-hoc naming and\n2. we know that the dataset is valid.\n\nSo we should just edit the schema to fit the dataset?\n\nThere is a [microscopy PR in BIDS](https://github.com/bids-standard/bids-specification/pull/881), which looks like it might be merged soon, but our dataset does not, in fact, use it.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1641585624,"metadata":{"github-id":"UCE_lALODBZtRc48ED7Fzh__Vog"},"target":"d0600a3268a107bee59441d33fd6584abbc7d1b722639de87b492a625a5790ae","message":"Currently building an XS regex-based BIDS validator as part of the new BIDS schemacode package. The schema directory is parameterized so this can be pointed to our own version, if we have nonstandard datasets (e.g. `DANDI:000108`).\n\nhttps://github.com/bids-standard/bids-specification/issues/543#issuecomment-1007683914\n\n@satra do you know whether our 108 dataset has a schema version which they use, or is it:\n1. ad-hoc naming and\n2. we know that the dataset is valid.\n\nSo we should just edit the schema to fit the dataset?\n\nThere is a [microscopy PR in BIDS](https://github.com/bids-standard/bids-specification/pull/881), which looks like it might be merged soon, but our dataset does not, in fact, use it.\n\n@djarecka","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1641585918,"metadata":{"github-id":"IC_kwDODBZtRc48EE6c","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1007701660"},"message":"it should technically correspond to that PR except that it will have ngff files. everything else should be aligned with that PR though. filenames should not be ad hoc even now, except for the h5 extension.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1641774464,"metadata":{"github-id":"IC_kwDODBZtRc48G9Rk","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1008456804"},"message":"@satra sadly it does not, currently nothing validates as [the datatype is listed as `micr` by the PR](https://github.com/bids-standard/bids-specification/pull/881/files#diff-3fdc26082ce47c1fdcf05819cbcfe5c84426b84de694861e4fb096fdb82e8ddcR25), whereas all files use a `microscopy` directory for the modalities. There may be other issues as well, but for the time being it seems we would need a divergent schema, unless we want to fix the data.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1641775261,"metadata":{"github-id":"UCE_lALODBZtRc48G9RkziAD0dA"},"target":"523e55a1780e7b4a1035a97e2a469efa5c65a2e75860b9065625dd2e21098a36","message":"@satra sadly it does not, currently nothing validates as [the datatype is listed as `micr` by the PR](https://github.com/bids-standard/bids-specification/pull/881/files#diff-3fdc26082ce47c1fdcf05819cbcfe5c84426b84de694861e4fb096fdb82e8ddcR25), whereas all files use a `microscopy` directory for the modalities. There may be other issues as well, but for the time being it seems we would need a divergent schema, unless we want to fix the data.\n\nOr we could also comment on the extension PR, but `micr` seems to make a lot more sense, analogously to `anat` and `func`.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1641780275,"metadata":{"github-id":"IC_kwDODBZtRc48HEuk","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1008487332"},"message":"that should be fixed (but that PR only recently changed from `microscopy` to `micr`). i'm pretty sure @leekamentsky was going to change it, but i would suggest waiting till we get zarr upload into the CLI, and then rewrite that dataset with the ngff files, which themselves likely need to be updated to the upcoming spec. it's a large dataset and we can wait a bit to do fixes together. \n\nwe will also need additional dandi specific overrides. ngff is not directly supported by the PR as well since that spec is evolving, but we will support it in dandi.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642056676,"metadata":{"github-id":"IC_kwDODBZtRc48T4uE","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1011846020"},"message":"@satra it turns out there are quite a few more inconsistencies between BEP031 and DANDI:000108 .\nThese are the one I've picked up on thus far, but there might be even more, particularly with regard to entity order and suffix case:\nhttps://github.com/TheChymera/bids-schemadata/commits/dandi","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1642092394,"metadata":{"github-id":"IC_kwDODBZtRc48VrRf","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1012315231"},"message":"I think some should be fixed (renamed) in the dandiset itself, e.g. \n- `spim -\u003e SPIM`\n- `run`: although it sounds sensible to add/recommend to BEP, since it is always `_run-1` I think we should rename that too\n- it should stay `micr` not `microscopy`\n\nSo I think only the addition of `.h5` should be the customization for us to have.  @satra, agree?\n\nWe will need to coordinate with @LeeKamentsky on renaming: do you have an entire copy of the dandiset with data as it was uploaded?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1642132955,"metadata":{"github-id":"IC_kwDODBZtRc48XQpt","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1012730477"},"message":"this will be reuploaded as `ngff`(see https://github.com/dandi/dandi-cli/issues/772#issuecomment-1008487332), so the customization should be for `ngff` not `.h5`.  btw, the bids specification doesn't say anything about case sensitivity of the suffix (and there doesn't seem to be consistency of lower and upper cases - `bold` is lower which is also an acronym). my preference would be to not introduce case.","files":null},{"type":3,"author":{"id":"a0783108e64b91630a03558db9caaf3ad739117f"},"timestamp":1642171014,"metadata":{"github-id":"IC_kwDODBZtRc48Y-yS","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1013181586"},"message":"I've got both the NGFF and HDF5 stored locally. I can reorganize the file structure (microscopy -\u003e micr) and rewrite both the NGFF and sidecar metadata as part of the update procedure when we get to the point where we switch from HDF5 to NGFF.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1642188772,"metadata":{"github-id":"IC_kwDODBZtRc48Z22F","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1013411205"},"message":"That would be great @LeeKamentsky ! So for now we can validate using \"adjusted schema\" and then before upload of ngff switch to the schema which has only \"allow .ngff\" modification in.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642260532,"metadata":{"github-id":"IC_kwDODBZtRc48a9f3","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1013700599"},"message":"@satra regarding case, going by general unix case handling, the case gets parsed as-written from the YAML (both for the online listing currently done in bids-specification, as well as for the validator I'm writing). This means that for it to be case-insensitive both upper- and lower-case strings would need to be listed. I see no single suffix doing this, so if you want it implemented as case-insensitive it should be done at the validator level, but that would be nonstandard behaviour, so I'm not sure it's a good idea...\n\nThe other thing I can do is write a comment on the BEP for it to be made lower-case, which sounds most consitent with BIDS, and include the change ahead of time in our `bids-schemadata:DANDI` branch. In fact I think I might do it in any case.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642260977,"metadata":{"github-id":"IC_kwDODBZtRc48a9_C","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1013702594"},"message":"Let's see what they think about this: https://github.com/bids-standard/bids-specification/pull/881#issuecomment-1013702512","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642423643,"metadata":{"github-id":"IC_kwDODBZtRc48d8fF","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1014482885"},"message":"@satra ok, so [it appears](https://github.com/bids-standard/bids-specification/pull/881#issuecomment-1013842368) there's no good reason to make it lowercase, since there are in fact quite a few uppercase suffixes. I think the right approach would be to update our data, rather than branch the schema over case or introduce validator fuzziness. Would you agree?","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642424366,"metadata":{"github-id":"IC_kwDODBZtRc48eBH1","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1014501877"},"message":"Also, apparently `README` and `CHANGES` are required as per BIDS :( I really don't see the point for CHANGES, but that seems to be the situation. Other than these two files (and `sessions.tsv`), `DANDI:000108` seems to validate: https://ppb.chymera.eu/1d5ef8.log","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1642447186,"metadata":{"github-id":"IC_kwDODBZtRc48fRJy","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1014829682"},"message":"`CHANGES` is indeed a little weird, especially if there are no changes to start with. but we should be supportive of whatever the bids spec entails. could you also test the validator on 000026 (it has a lot of files)?","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1642447336,"metadata":{"github-id":"IC_kwDODBZtRc48fRgj","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1014831139"},"message":"\u003e I think the right approach would be to update our data, rather than branch the schema over case or introduce validator fuzziness. Would you agree?\n\nyes. please create the validator with that in mind + support for ngff directories. please let @LeeKamentsky know how best to test the dataset with the validator, perhaps before it gets into dandi cli (or if that is imminent, then we can wait to just execute the validate function).","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642518907,"metadata":{"github-id":"IC_kwDODBZtRc48h3n_","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1015511551"},"message":"\u003e test the validator on 000026 \n\n@satra oh my, there are many (extra) standard divergences here as well.\nThe one where I think we most need feedback is the `_fa-\u003cindex\u003e` entity. \nIt seems this is used interchangeably by the dataset with `_flip-\u003cindex\u003e`, but it could also be something else entirely.\nSee https://github.com/TheChymera/bids-schemadata/commit/bebd54f4d85474971e78323492990b491a38defc for the changes required to make it pass.\nDetrimentally to the standard integrity, `flip` needs to be downgraded to optional as well...\nAre you (we?) in charge of updating the data now, or should I be contacting @gmazzamuto directly?","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642518939,"metadata":{"github-id":"UCE_lALODBZtRc48h3n_ziA3-Gg"},"target":"b7b410405f31ed02561d99dea7ab2d3a1082247dee80cbab18ecd407ba675fd4","message":"\u003e test the validator on 000026 \n\n@satra oh my, there are many (extra) standard divergences here as well.\nThe one where I think we most need feedback is the `_fa-\u003cindex\u003e` entity. \nIt seems this is used interchangeably by the dataset with `_flip-\u003cindex\u003e`, but it could also be something else entirely.\nSee https://github.com/TheChymera/bids-schemadata/commit/bebd54f4d85474971e78323492990b491a38defc for the changes required to make it pass.\nDetrimentally to standard integrity, `flip` needs to be downgraded to optional as well...\nAre you (we?) in charge of updating the data now, or should I be contacting @gmazzamuto directly?","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642519096,"metadata":{"github-id":"IC_kwDODBZtRc48h4Xt","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1015514605"},"message":"I have also just come across something I cannot really \"fix\" via schema divergence, namely `/sub-I46/ses-MRI/anat/sub-I46_ses-MRI-echo-2_flip-2_VFA.json`. Between MRI and echo there is a dash instead of an underscore (took me forever to spot this one...). I assume this is a simple typo, but it needs to be fixed in the data.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642519119,"metadata":{"github-id":"UCE_lALODBZtRc48h4XtziA3_sE"},"target":"00a8ffceaf0097d09a93b33e8d268e7e1bc1d16ff00f1a575b3db15521b49fc6","message":"I have also just come across something I cannot really \"fix\" via schema divergence, namely `/sub-I46/ses-MRI/anat/sub-I46_ses-MRI-echo-2_flip-2_VFA.json` (in `DANDI:000026`). Between MRI and echo there is a dash instead of an underscore (took me forever to spot this one...). I assume this is a simple typo, but it needs to be fixed in the data.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642519406,"metadata":{"github-id":"IC_kwDODBZtRc48h5oM","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1015519756"},"message":"Additionally, there seems to be some microscopy data which is not using the `microscopy/` datatype subdirectory, e.g. `/sub-I46/ses-SPIM/sub-I46_ses-SPIM_sample-*`.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1642519700,"metadata":{"github-id":"IC_kwDODBZtRc48h619","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1015524733"},"message":"@TheChymera - we should give the contact person a heads up, but i would suggest first making sure that the validator is integrated so that they can check. one thing to note is that each site has a different subset of the data. no site has all the data, and it also doesn't make sense to force people to download all the data. so that may be something additional to look into for the validator.","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1642529990,"metadata":{"github-id":"IC_kwDODBZtRc48iigb","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1015687195"},"message":"\u003e I have also just come across something I cannot really \"fix\" via schema divergence, namely `/sub-I46/ses-MRI/anat/sub-I46_ses-MRI-echo-2_flip-2_VFA.json` (in `DANDI:000026`). Between MRI and echo there is a dash instead of an underscore (took me forever to spot this one...). I assume this is a simple typo, but it needs to be fixed in the data.\n\nthat just shows the power of standards and validators -- ability to detect presence of such typos ;)  yeah, needs to be fixed in the dataset itself.","files":null},{"type":3,"author":{"id":"a0783108e64b91630a03558db9caaf3ad739117f"},"timestamp":1642624815,"metadata":{"github-id":"IC_kwDODBZtRc48m-bx","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1016850161"},"message":"I can remove sub-MITU01_sessions.tsv - I guess I missed noticing the point where that file disappeared from the spec. I'll add a README and see if I can reconstruct and backfill the CHANGES file","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1642625364,"metadata":{"github-id":"IC_kwDODBZtRc48m_9D","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1016856387"},"message":"@LeeKamentsky - it hasn't disappeared. it's just an optional file: https://bids-specification.readthedocs.io/en/stable/06-longitudinal-and-multi-site-studies.html#sessions-file (i wouldn't remove it).","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642683980,"metadata":{"github-id":"IC_kwDODBZtRc48pZ_R","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1017487313"},"message":"\u003e I can remove sub-MITU01_sessions.tsv\n\nI [don't think it has disappeared from the spec](https://github.com/bids-standard/bids-specification/issues/978), just that it's not represented in the YAML schema data which we use for the validator. So those files are not the issue. But the typo with the underscore and microscopy subdirectory should be fixed.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642684053,"metadata":{"github-id":"UCE_lALODBZtRc48pZ_RziBHei4"},"target":"95cf10293baa8170d860f124f0648bc694f12c6cdc772c7f089e82b0c932507f","message":"\u003e I can remove sub-MITU01_sessions.tsv\n\nI [don't think it has disappeared from the spec](https://github.com/bids-standard/bids-specification/issues/978), just that it's not represented in the YAML schema data which we use for the validator. So those files are not the issue. But the typo with the underscore and microscopy subdirectory should be fixed at some point.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642684079,"metadata":{"github-id":"UCE_lALODBZtRc48pZ_RziBHetk"},"target":"95cf10293baa8170d860f124f0648bc694f12c6cdc772c7f089e82b0c932507f","message":"\u003e I can remove sub-MITU01_sessions.tsv\n\n@LeeKamentsky\nI [don't think it has disappeared from the spec](https://github.com/bids-standard/bids-specification/issues/978), just that it's not represented in the YAML schema data which we use for the validator. So those files are not the issue. But the typo with the underscore and microscopy subdirectory should be fixed at some point.","files":null},{"type":3,"author":{"id":"b47d70447f48e9670debced52b0983080ea7199d"},"timestamp":1642784090,"metadata":{"github-id":"IC_kwDODBZtRc48t-pS","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1018686034"},"message":"Hello everyone!\n\nI had a nice chat with @TheChymera yesterday, we'll fix the ses-SPIM directories as soon as we have some time. For the other image modalities I think you can contact \n- for MRI: Leah Morgan, MGH\n- for OCT: Jiarui Yang, BU","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642976437,"metadata":{"github-id":"IC_kwDODBZtRc48xYtq","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1019579242"},"message":"@satra do we have individual issue trackers for each dataset? I remember I saw something like that once, but can't find it again. It might be better to discuss updates there since there seem to be a lot of different things going on in this thread. Ideally we could discuss:\n1. Things which should be changed in `DANDI:000108`\n2. Things which should be changed in `DANDI:000026`\n3. Things which we fix in the schema and keep fixing in the schema until our draft fixes are deprecated by vanilla BIDS.\nseparately.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1642976446,"metadata":{"github-id":"UCE_lALODBZtRc48xYtqziBXbjg"},"target":"d22aedd5920257e48ef694d5bb9ec0065d64bc553819a5f6238eb99b39861d51","message":"@satra do we have individual issue trackers for each dataset? I remember I saw something like that once, but can't find it again. It might be better to discuss updates there since there seem to be a lot of different things going on in this thread. Ideally we could discuss:\n1. Things which should be changed in `DANDI:000108`\n2. Things which should be changed in `DANDI:000026`\n3. Things which we fix in the schema and keep fixing in the schema until our draft fixes are deprecated by vanilla BIDS.\n\nseparately.","files":null},{"type":3,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1642976861,"metadata":{"github-id":"IC_kwDODBZtRc48xZBA","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1019580480"},"message":"you can do it in the github.com/dandisets org where each dandiset has it's own repo.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1643044353,"metadata":{"github-id":"IC_kwDODBZtRc480SBC","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1020338242"},"message":"@gmazzamuto can you send me the contact details per email, or ping the github accounts (I searched but don't think I could find them).","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1643045009,"metadata":{"github-id":"IC_kwDODBZtRc480U0C","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1020349698"},"message":"Issues with the datasets are now tracked here:\nhttps://github.com/dandisets/000108/issues\nhttps://github.com/dandisets/000026/issues/\n\nThus the only relevant schema changes remain:\n\n[] Sessions file support [our schema change](https://github.com/TheChymera/bids-schemadata/commit/c8950ef92a2ee7fa0afb9e6c0c3b267c113a1d5e), discussed with BIDS [here](https://github.com/bids-standard/bids-specification/pull/985).\n[] `echo` entity in `VFA` suffix files [our schema change](https://github.com/TheChymera/bids-schemadata/commit/9e25020bd0cdbc7187d11d6ce1d9047667d50b42), pending a reply from BIDS [here](https://github.com/bids-standard/bids-specification/issues/977#issuecomment-1015520113).","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1643045268,"metadata":{"github-id":"UCE_lALODBZtRc480U0CziBc4E4"},"target":"5a84d485095ebaa424094f8366adebf967c2d76ce3ca2ac850b37c4e44a7b0df","message":"Issues with the datasets are now tracked here:\nhttps://github.com/dandisets/000108/issues\nhttps://github.com/dandisets/000026/issues/\n\nThus the only relevant schema changes remain:\n\n- [ ] Sessions file support, [our schema change](https://github.com/TheChymera/bids-schemadata/commit/c8950ef92a2ee7fa0afb9e6c0c3b267c113a1d5e), discussed with BIDS [here](https://github.com/bids-standard/bids-specification/pull/985).\n- [ ] `echo` entity in `VFA` suffix files, [our schema change](https://github.com/TheChymera/bids-schemadata/commit/9e25020bd0cdbc7187d11d6ce1d9047667d50b42), pending a reply from BIDS [here](https://github.com/bids-standard/bids-specification/issues/977#issuecomment-1015520113).\n- [ ] `.h5` support for microscopy files, [our schema change](https://github.com/TheChymera/bids-schemadata/commit/3a557d44f79da86a031e18dcd63b600f150123df#diff-1ca5df7ff9276b870cbee0ca5727f6120e61ee7fd631bb184268264196455c66R26), not currently discussed with BIDS\n- [ ] `.ngff` support for microscopy files [our schema change](https://github.com/TheChymera/bids-schemadata/commit/4daa957209e1e1b3f482a336b22ea0d2852405f3), not currently discussed with BIDS.","files":null},{"type":6,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1643045279,"metadata":{"github-id":"UCE_lALODBZtRc480U0CziBc4Ks"},"target":"5a84d485095ebaa424094f8366adebf967c2d76ce3ca2ac850b37c4e44a7b0df","message":"Issues with the datasets are now tracked here:\nhttps://github.com/dandisets/000108/issues\nhttps://github.com/dandisets/000026/issues\n\nThus the only relevant schema changes remain:\n\n- [ ] Sessions file support, [our schema change](https://github.com/TheChymera/bids-schemadata/commit/c8950ef92a2ee7fa0afb9e6c0c3b267c113a1d5e), discussed with BIDS [here](https://github.com/bids-standard/bids-specification/pull/985).\n- [ ] `echo` entity in `VFA` suffix files, [our schema change](https://github.com/TheChymera/bids-schemadata/commit/9e25020bd0cdbc7187d11d6ce1d9047667d50b42), pending a reply from BIDS [here](https://github.com/bids-standard/bids-specification/issues/977#issuecomment-1015520113).\n- [ ] `.h5` support for microscopy files, [our schema change](https://github.com/TheChymera/bids-schemadata/commit/3a557d44f79da86a031e18dcd63b600f150123df#diff-1ca5df7ff9276b870cbee0ca5727f6120e61ee7fd631bb184268264196455c66R26), not currently discussed with BIDS\n- [ ] `.ngff` support for microscopy files [our schema change](https://github.com/TheChymera/bids-schemadata/commit/4daa957209e1e1b3f482a336b22ea0d2852405f3), not currently discussed with BIDS.","files":null},{"type":3,"author":{"id":"0ab0e40999605aa8d5ec6be68372511fdc4a2fdf"},"timestamp":1643629605,"metadata":{"github-id":"IC_kwDODBZtRc49IkEb","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-1025655067"},"message":"Ok, so we have a new schema version containing only changes which enhance but do not diverge from BIDS.\nAlmost all of both datasets fail with this schema, pending issues reported on them.\nhttps://github.com/TheChymera/bids-schemadata/tree/dandi_strict","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1758037571,"metadata":{"github-id":"IC_kwDODBZtRc7EqFH2","github-url":"https://github.com/dandi/dandi-cli/issues/772#issuecomment-3299365366"},"message":"FWIW, we do have basic metadata extraction which was implemented via `bidsschematools.validator ` and thus populating basic metadata for BIDS assets based on metadata in the filenames.  It is too crude ATM as e.g. for a sample anatomical image from https://dandiarchive.org/dandiset/000026/draft/files?location=sub-I38/ses-MRI/anat\u0026page=1 we extract only subject id, see https://api.dandiarchive.org/api/dandisets/000026/versions/draft/assets/283e5814-77a6-4226-94a0-f1a116d20eb0/\n\nWe should reapproach and continue on that in\n\n- #432","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1758037571,"metadata":{"github-id":"CE_lADODBZtRc47qhiEzwAAAASYAqQT"},"status":2}]}