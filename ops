{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1616078511,"metadata":{"github-id":"MDU6SXNzdWU4MzQ4OTY0ODc=","github-url":"https://github.com/dandi/dandi-cli/issues/475","origin":"github"},"title":"validate: add --devel-debug ","message":"in `upload` we `--devel-debug` which avoids swallowing exceptions and allows to get to `--pdb` mode.  We need the same mode of operation for validate so we reraise the original exception if such happens:\n\n```\ndrogon:/mnt/backup/dandi/dandisets/000019\n$\u003e dandi validate sub-EC2/sub-EC2_ses-EC2-B1.nwb\n/home/yoh/miniconda3/envs/dandi-devel/lib/python3.8/site-packages/hdmf/spec/namespace.py:484: UserWarning: Ignoring cached namespace 'core' version 2.0.2 because version 2.2.5 is already loaded.\n  warn(\"Ignoring cached namespace '%s' version %s because version %s is already loaded.\"\n2021-03-18 09:46:44,029 [   ERROR] sub-EC2/sub-EC2_ses-EC2-B1.nwb: 7 error(s)\n2021-03-18 09:46:44,029 [   ERROR]   VectorIndex/description (intervals/invalid_times/tags_index): argument missing\n2021-03-18 09:46:44,029 [   ERROR]   VectorIndex (intervals/invalid_times/tags_index): incorrect type - expected 'uint8', got 'int64'\n2021-03-18 09:46:44,029 [   ERROR]   VectorIndex/description (intervals/invalid_times/timeseries_index): argument missing\n2021-03-18 09:46:44,029 [   ERROR]   VectorIndex (intervals/invalid_times/timeseries_index): incorrect type - expected 'uint8', got 'int64'\n2021-03-18 09:46:44,029 [   ERROR]   VectorIndex/description (intervals/invalid_times/timeseries_index): argument missing\n2021-03-18 09:46:44,029 [   ERROR]   VectorIndex (intervals/invalid_times/timeseries_index): incorrect type - expected 'uint8', got 'int64'\n2021-03-18 09:46:44,029 [   ERROR]   Failed to read metadata: (root/processing/ecephys/spectrum GroupBuilder {'attributes': {'namespace': 'ndx-spectrum', 'neurodata_type': 'Spectrum'}, 'groups': {}, 'datasets': {'frequencies': root/processing/ecephys/spectrum/frequencies DatasetBuilder {'attributes': {}, 'data': \u003cClosed HDF5 dataset\u003e}, 'power': root/processing/ecephys/spectrum/power DatasetBuilder {'attributes': {}, 'data': \u003cClosed HDF5 dataset\u003e}}, 'links': {'source_timeseries': root/processing/ecephys/spectrum/source_timeseries LinkBuilder {'builder': root/acquisition/ElectricalSeries GroupBuilder {'attributes': {'comments': 'no comments', 'description': 'all Wav data', 'help': 'Stores acquired voltage data from extracellular recordings', 'namespace': 'core', 'neurodata_type': 'ElectricalSeries'}, 'groups': {}, 'datasets': {'data': root/acquisition/ElectricalSeries/data DatasetBuilder {'attributes': {'conversion': 0.001, 'resolution': 0.0, 'unit': 'volt'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'electrodes': root/acquisition/ElectricalSeries/electrodes DatasetBuilder {'attributes': {'description': 'ECoG electrodes on brain', 'help': 'a subset (i.e. slice or region) of a DynamicTable', 'namespace': 'core', 'neurodata_type': 'DynamicTableRegion', 'table': root/general/extracellular_ephys/electrodes GroupBuilder {'attributes': {'colnames': array([b'x', b'y', b'z', b'imp', b'location', b'filtering', b'group',\n       b'group_name', b'bad'], dtype='|S13'), 'description': 'metadata about extracellular electrodes', 'help': 'A column-centric table', 'namespace': 'core', 'neurodata_type': 'DynamicTable'}, 'groups': {}, 'datasets': {'bad': root/general/extracellular_ephys/electrodes/bad DatasetBuilder {'attributes': {'description': 'electrode identified as too noisy', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'filtering': root/general/extracellular_ephys/electrodes/filtering DatasetBuilder {'attributes': {'description': 'description of hardware filtering', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'group': root/general/extracellular_ephys/electrodes/group DatasetBuilder {'attributes': {'description': 'a reference to the ElectrodeGroup this electrode is a part of', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003chdmf.backends.hdf5.h5_utils.BuilderH5ReferenceDataset object at 0x7f964dcc0970\u003e}, 'group_name': root/general/extracellular_ephys/electrodes/group_name DatasetBuilder {'attributes': {'description': 'the name of the ElectrodeGroup this electrode is a part of', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'id': root/general/extracellular_ephys/electrodes/id DatasetBuilder {'attributes': {'help': 'unique identifiers for a list of elements', 'namespace': 'core', 'neurodata_type': 'ElementIdentifiers'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'imp': root/general/extracellular_ephys/electrodes/imp DatasetBuilder {'attributes': {'description': 'the impedance of the channel', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'location': root/general/extracellular_ephys/electrodes/location DatasetBuilder {'attributes': {'description': 'the location of channel within the subject e.g. brain region', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'x': root/general/extracellular_ephys/electrodes/x DatasetBuilder {'attributes': {'description': 'the x coordinate of the channel location', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'y': root/general/extracellular_ephys/electrodes/y DatasetBuilder {'attributes': {'description': 'the y coordinate of the channel location', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}, 'z': root/general/extracellular_ephys/electrodes/z DatasetBuilder {'attributes': {'description': 'the z coordinate of the channel location', 'help': 'Values for a list of elements', 'namespace': 'core', 'neurodata_type': 'VectorData'}, 'data': \u003cClosed HDF5 dataset\u003e}}, 'links': {}}}, 'data': \u003cClosed HDF5 dataset\u003e}, 'starting_time': root/acquisition/ElectricalSeries/starting_time DatasetBuilder {'attributes': {'rate': 3051.7578, 'unit': 'Seconds'}, 'data': 0.0}}, 'links': {}}}}}, \"Could not construct Spectrum object due to: TypeMap.__get_cls_dict.\u003clocals\u003e.__init__: missing argument 'help'\")\nSummary: Validation errors in 1 out of 1 files\n2021-03-18 09:46:44,030 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20210318134639Z-15851.log\n```","files":null}]}