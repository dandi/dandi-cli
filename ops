{"version":2,"ops":[{"type":6,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1584472652,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlRWRpdDozNjExNTU3NDg="},"target":"e946dc73e0f6448d897018ff72e836f91df815a94469dfc0c244c74ff24dc38f","message":"Nac users with an external drive are likely to have hidden \"resource fork\" files that have the prefix \"`._`\". These files are invisible and can normally be safely ignored, but they break the organize command. These files are difficult for mac users to identify, as they are hidden in Finder, and only findable with `ls -a` on the command line. I think it would be better to ignore them on organize. If not, then maybe we could throw an error right away, instead of waiting for all of the meta-data to be gathered (for 18 minutes in this case) before throwing the error.\n\n```bash\n(base) Bens-MacBook-Pro-2:dandi_staging bendichter$ dandi organize -d 000008 /Volumes/easystore5T/data/Tolias/nwb -f symlink\n2020-03-17 14:43:47,494 [    INFO] Loading metadata from 1319 files\n[Parallel(n_jobs=-1)]: Using backend LokyBackend with 8 concurrent workers.\n[Parallel(n_jobs=-1)]: Done   2 tasks      | elapsed:    9.1s\n[Parallel(n_jobs=-1)]: Done   9 tasks      | elapsed:   10.4s\n...\n[Parallel(n_jobs=-1)]: Done 1285 tasks      | elapsed: 18.1min\n[Parallel(n_jobs=-1)]: Done 1319 out of 1319 | elapsed: 18.6min finished\n2020-03-17 15:02:25,252 [ WARNING] Completely empty record for /Volumes/easystore5T/data/Tolias/nwb/._20171204_sample_2.nwb\nError: 1 out of 1319 files were found not containing all necessary metadata: /Volumes/easystore5T/data/Tolias/nwb/._20171204_sample_2.nwb\n```","files":null},{"type":3,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1584472595,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMDI1MDc1MQ==","github-url":"https://github.com/dandi/dandi-cli/issues/61#issuecomment-600250751"},"message":"luckily the caching saved me :-)","files":null},{"type":6,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1584472595,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6MzU4NTk0MTM5"},"target":"f5f025b2847da5a4d0622c588c32ce919bc35fae472d67cdd0cd6d0733788cf6","message":"It looks like the caching saved me from waiting another 18 min :-). Well done, @yarikoptic","files":null},{"type":2,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1584472637,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzEzODcxNjgyOA=="},"title":"hidden resource fork files break organize command on mac with external drive","was":"hidden resource fork files break organize command on mac with external drive"},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1584484782,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMDMzNTE0Ng==","github-url":"https://github.com/dandi/dandi-cli/issues/61#issuecomment-600335146"},"message":"\u003e It looks like the caching saved me from waiting another 18 min :-). Well done, @yarikoptic\n\nas long as you do not upgrade anything -- you will be the \"fast ben\" now ;)  yeah -- caching helps.  also joblib doing metadata reading in parallel too\n\nRe, the issue, I have not realized that, we should exclude all \"dot files\" by default.  I will send a PR shortly.  It might still interfere with e.g. cleanup operations (I remove directories which are empty after the \"move\" command) but that should be minor.  Thanks for the report!","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1584541669,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzE0MTcwMzUwMA=="},"status":2}]}