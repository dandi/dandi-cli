{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1604938468,"metadata":{"github-id":"MDU6SXNzdWU3MzkxNjMyNzg=","github-url":"https://github.com/dandi/dandi-cli/issues/268","origin":"github"},"title":"Make copy_file (used at least by `organize`) use `cp --reflink=auto` where available","message":"We have a TODO comment in https://github.com/dandi/dandi-cli/blob/419e8de4db1e7f36c0e6675bbe70707b9769a42d/dandi/utils.py#L358 and do use `cp --reflink=always` in https://github.com/dandi/dandisets/blob/master/tools/backups2datalad.py#L394 .\n\nI think in the client, we should \n- sense if `cp` has `--reflink=auto` support and if so\n- use `cp --reflink` instead of `shutil.copy*` in such cases.  Unless there is some pythonic way to perform CoW","files":null}]}