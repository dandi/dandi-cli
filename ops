{"version":2,"ops":[{"type":5,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1629462588,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDUxODY1NjI3NjM="},"added":["enhancement"],"removed":[]},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1629463793,"metadata":{"github-id":"IC_kwDODBZtRc41zZ23","github-url":"https://github.com/dandi/dandi-cli/issues/752#issuecomment-902667703"},"message":"\u003e  I could convert it to a list, but it seems like that is hitting the API more than necessary. \n\nNot really if you are too go through the loop anyways. So I would just do that. I don't think getting a dedicated method for just the number of dandisets would really help anything","files":null},{"type":4,"author":{"id":"364914f8b1c8a9131d300bf2978e4ffe2ff1aeeb"},"timestamp":1658934048,"metadata":{"github-id":"CE_lADODBZtRc46JfeezwAAAAGlocdr"},"status":2},{"type":3,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1667266586,"metadata":{"github-id":"IC_kwDODBZtRc5NXFhZ","github-url":"https://github.com/dandi/dandi-cli/issues/752#issuecomment-1297897561"},"message":"I ran into this problem again. Aggregating metadata across all dandisets can take ~30 seconds and I think it would be nice to have a progress bar. I'm not able to create a progress bar because I don't know how many dandisets there are. Would it be possible to add this feature? I'd like to be able to run:\n\n```python\nfrom tqdm import tqdm\nfrom dandi.dandiapi import DandiAPIClient\n\nwith DandiAPIClient() as client:\n    for dandiset in tqdm(client.get_dandisets(), total=client.number_of_dandisets):\n        # do stuff here\n```","files":null},{"type":6,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1667266620,"metadata":{"github-id":"UCE_lALODBZtRc5NXFhZzij97dQ"},"target":"83dd0b4344bf3dc5bfd75b0673d4fe661118d5b3024da803867af5c083c1acf8","message":"I ran into this problem again. Aggregating metadata across all dandisets can take ~30 seconds and I think it would be nice to have a progress bar. Regardless of whether you are hitting the API more than necessary, I'm not able to create a progress bar because I don't know how many dandisets there are. Would it be possible to add this feature? I'd like to be able to run:\n\n```python\nfrom tqdm import tqdm\nfrom dandi.dandiapi import DandiAPIClient\n\nwith DandiAPIClient() as client:\n    for dandiset in tqdm(client.get_dandisets(), total=client.number_of_dandisets):\n        # do stuff here\n```","files":null},{"type":4,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1667266586,"metadata":{"github-id":"REE_lADODBZtRc46JfeezwAAAAHLgtzH"},"status":1},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1667311528,"metadata":{"github-id":"IC_kwDODBZtRc5NZnq_","github-url":"https://github.com/dandi/dandi-cli/issues/752#issuecomment-1298561727"},"message":"just do not use generator form - make it into a list of dandisets, try:\n\n```\nfrom tqdm import tqdm\nfrom dandi.dandiapi import DandiAPIClient\nfrom time import sleep\n\nwith DandiAPIClient() as client:\n    for dandiset in tqdm(list(client.get_dandisets())):\n        # do stuff here\n        sleep(0.001)\n```","files":null},{"type":6,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1667311640,"metadata":{"github-id":"UCE_lALODBZtRc5NZnq_zikDAxo"},"target":"fb1940a9d5d8f8b764a4956fc5b33d6f04b162d67d6f8db034ffd4d89fde712c","message":"just do not use generator form - make it into a list of dandisets, try:\n\n```python\nfrom tqdm import tqdm\nfrom dandi.dandiapi import DandiAPIClient\nfrom time import sleep\n\nwith DandiAPIClient() as client:\n    for dandiset in tqdm(list(client.get_dandisets())):\n        # do stuff here\n        sleep(0.001)\n```","files":null},{"type":4,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1667311528,"metadata":{"github-id":"CE_lADODBZtRc46JfeezwAAAAHLxQfx"},"status":2},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1667311626,"metadata":{"github-id":"IC_kwDODBZtRc5NZoPp","github-url":"https://github.com/dandi/dandi-cli/issues/752#issuecomment-1298564073"},"message":"@bendichter and sure thing feel free to reopen if there is more to it  (I just do not want to drag issues for which I think we have a solution open)","files":null},{"type":3,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1667315007,"metadata":{"github-id":"IC_kwDODBZtRc5NZ76f","github-url":"https://github.com/dandi/dandi-cli/issues/752#issuecomment-1298644639"},"message":"ok, this was much faster than I thought it would be","files":null},{"type":3,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1667320573,"metadata":{"github-id":"IC_kwDODBZtRc5NajnY","github-url":"https://github.com/dandi/dandi-cli/issues/752#issuecomment-1298807256"},"message":";) hopefully we will enter some bright future at some point when listing would take considerable amount of time, but then it would still remain negligible to \"do-ing stuff\"  ;)","files":null}]}