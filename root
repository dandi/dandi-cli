{"version":2,"ops":[{"type":1,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1678394274,"metadata":{"github-id":"I_kwDODBZtRc5gcCC5","github-url":"https://github.com/dandi/dandi-cli/issues/1249","origin":"github"},"title":"dandi version error in staging","message":"```pytb\ndef test_automatic_dandi_upload(self):\n\u003e       automatic_dandi_upload(dandiset_id=\"200560\", nwb_folder_path=self.nwb_folder_path, staging=True)\n\ntests/test_minimal/test_tools/test_dandi_transfer_tools.py:45: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.8.16/x64/lib/python3.8/site-packages/neuroconv/tools/data_transfers.py:[36](https://github.com/catalystneuro/neuroconv/actions/runs/4378541440/jobs/7663420144#step:9:37)4: in automatic_dandi_upload\n    dandi_upload(paths=[str(x) for x in organized_nwbfiles], dandi_instance=dandi_instance)\n/opt/hostedtoolcache/Python/3.8.16/x64/lib/python3.8/site-packages/dandi/upload.py:70: in upload\n    client.check_schema_version()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = \u003cdandi.dandiapi.DandiAPIClient object at 0x7f3f9cb34910\u003e\nschema_version = '0.6.3'\n\n    def check_schema_version(self, schema_version: Optional[str] = None) -\u003e None:\n        \"\"\"\n        Confirms that the server is using the same version of the Dandi schema\n        as the client.  If it is not, a `SchemaVersionError` is raised.\n    \n        :param schema_version: the schema version to confirm that the server\n            uses; if not set, the schema version for the installed\n            ``dandischema`` library is used\n        \"\"\"\n        if schema_version is None:\n            schema_version = models.get_schema_version()\n        server_info = self.get(\"/info/\")\n        server_schema_version = server_info.get(\"schema_version\")\n        if not server_schema_version:\n            raise RuntimeError(\n                \"Server did not provide schema_version in /info/;\"\n                f\" returned {server_info!r}\"\n            )\n        if server_schema_version != schema_version:\n\u003e           raise SchemaVersionError(\n                f\"Server requires schema version {server_schema_version};\"\n                f\" client only supports {schema_version}.  You may need to\"\n                \" upgrade dandi and/or dandischema.\"\n            )\nE           dandi.exceptions.SchemaVersionError: Server requires schema version 0.6.4; client only supports 0.6.3.  You may need to upgrade dandi and/or dandischema.\n```","files":null}]}