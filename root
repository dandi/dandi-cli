{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1612193945,"metadata":{"github-id":"MDU6SXNzdWU3OTg0Njc5MDI=","github-url":"https://github.com/dandi/dandi-cli/issues/352","origin":"github"},"title":"FOI: 3.9 with h5py 2.10.0 started to fail to import","message":"`ValueError: numpy.ndarray size changed, may indicate binary incompatibility. Expected 88 from C header, got 80 from PyObject`\n\n```\nRun python -m pytest -s -v --cov=dandi --cov-report=xml dandi\nImportError while loading conftest '/home/runner/work/dandi-cli/dandi-cli/dandi/conftest.py'.\ndandi/conftest.py:1: in \u003cmodule\u003e\n    from .tests.fixtures import *  # noqa: F401, F403\ndandi/tests/fixtures.py:12: in \u003cmodule\u003e\n    import pynwb\n/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/pynwb/__init__.py:7: in \u003cmodule\u003e\n    import h5py\n/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/h5py/__init__.py:46: in \u003cmodule\u003e\n    from ._conv import register_converters as _register_converters\nh5py/_conv.pyx:1: in init h5py._conv\n    ???\nh5py/h5t.pyx:1: in init h5py.h5t\n    ???\nE   ValueError: numpy.ndarray size changed, may indicate binary incompatibility. Expected 88 from C header, got 80 from PyObject\nError: Process completed with exit code 4.\n```\nmy wild guess is that due to pynwb limiting h5py to 2.x series, but we did test/impor ok just recently with such restrictions.  Did not look in detail on what is going on and where to complain - I do not think it is something we could address on our end.","files":null}]}