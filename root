{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1620689271,"metadata":{"github-id":"MDU6SXNzdWU4ODUzNTM1Njg=","github-url":"https://github.com/dandi/dandi-cli/issues/631","origin":"github"},"title":"Make updates to released schema \"conscientious\" ","message":"Although we have added \"protection\" mechanism now with #626, which is good on its own. I wonder if we should not directly push within .github/workflows/publish-schemata.yml but rather submit a PR (against schema repo) so it could be reviewed also for the effects of changes to the schema etc.  \n\nCons:\n- If PR doesn't get merged then we might get out of sync between schema in dandi-cli and \"released\" in `schema`\n\nA possibly better alternative long term might be if we now split away `schema` handling into its dedicated repo, and probably could even be just within `schema` repo, but then it would\n- gain its own `auto` for releases, so we would have clear separate release cycles of `dandi-cli` and `schema`\n- provide jsonschema rendering upon releases with pushes under `releases/`\n  - probably some CI run there should always show what changes since the last version would be at any given state of development?\n  - or we could just make it into a separate repo, e.g. `dandi-schema` and keep `schema` only for releases.  May be with `pre-commit` providing current \"development\" rendering for schema directly within that repo so we could easily assess effects\n- entrypoint for `dandi-cli` to use to access pydantic models etc for validation etc.  \n\nWDYT @satra and @jwodder ?","files":null}]}