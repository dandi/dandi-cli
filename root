{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1570496578,"metadata":{"github-id":"MDU6SXNzdWU1MDM3NjcxNjU=","github-url":"https://github.com/dandi/dandi-cli/issues/14","origin":"github"},"title":"Q: is it needed to open NWBHDF5IO file with load_namespaces=True?","message":"question to @bendichter (doing it via github so there is trace or I will forget the answer and will ask again ;)):  in `validate` I opened a file via `pynwb.NWBHDF5IO(path, 'r', load_namespaces=True)`. On some files then it causes hdmf to whine that \n\n```\nUserWarning: No cached namespaces found in testfile.nwb\n```\n\nso I wondered if for validation I have to (or not) to explicitly request loading of the namespaces?\n\n\u003cdetails\u003e\n\u003csummary\u003efull example with a script to produce that file\u003c/summary\u003e \n\n```shell\n/home/yoh/proj/dandi/trash \u003e dandi validate testfile.nwb\n/home/yoh/deb/gits/pkg-exppsy/hdmf/src/hdmf/backends/hdf5/h5tools.py:99: UserWarning: No cached namespaces found in testfile.nwb\n  warnings.warn(msg)\nNo validation errors among 1 files\n\n/home/yoh/proj/dandi/trash \u003e cat mksample_nwb.py \nimport os\nimport time\nfrom datetime import datetime\nfrom dateutil.tz import tzlocal, tzutc\n\ntm1 = time.time()\n\nfrom pynwb import NWBFile, TimeSeries\nfrom pynwb import NWBHDF5IO\nfrom pynwb.file import Subject, ElectrodeTable\nfrom pynwb.epoch import TimeIntervals\n\nt0 = time.time()\nprint(\"Took %.2f sec to import pynwb\" % (t0-tm1))\n\nfilename =\"testfile.nwb\"\nnwbfile = NWBFile('session description',\n                  'identifier',\n                  datetime.now(tzlocal()),\n                  file_create_date=datetime.now(tzlocal()),\n                  lab='a Lab',\n                  # Keywords cause that puke upon `repr` ValueError: Not a dataset (not a dataset)\n                  keywords=('these', 'are', 'keywords')\n                 )\nt1 = time.time()\nprint(\"Took %.2f sec to create NWB instance\" % (t1-t0))\n\nwith NWBHDF5IO(filename, 'w') as io:\n    io.write(nwbfile, cache_spec=False)\n\nt2 = time.time()\nprint(\"Took %.2f sec to write NWB instance\" % (t2-t1))\n\nwith NWBHDF5IO(filename, 'r', load_namespaces=True) as reader:\n    nwbfile = reader.read()\n    t3 = time.time()\n    print(\"Took %.2f sec to read NWB instance\" % (t3-t2))\n    print(nwbfile)\n    t4 = time.time()\n    print(\"Took %.2f sec to print repr of NWB instance\" % (t4-t3))\nprint(filename)\n```\n\u003c/details\u003e","files":null}]}