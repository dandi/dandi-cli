{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1623772849,"metadata":{"github-id":"MDU6SXNzdWU5MjE1NTU5MzQ=","github-url":"https://github.com/dandi/dandi-cli/issues/673","origin":"github"},"title":"Default to the dandi instance API url","message":"ATM (as as of #660 0.19.0-17-g7d4541f) DandiAPIClient requires API URL to be passed into constructor.  Since the majority (if not 99%) of the use cases would be against our main instance, I think we should make not necessary to explicitly specify API server endpoint.  \n\nBut then may be we should still allow to specify the \"default instance\" for a run.  grep'ing through the codebase I see\n```shell\n(git)lena:~/proj/dandi/dandi-cli-master[api-01]git\n$\u003e git grep DANDI.*INST\nDEVELOPMENT.md:- `DANDI_INSTANCEHOST` -- defaults to `localhost`. Point to host/IP which hosts\ndandi/consts.py:instancehost = os.environ.get(\"DANDI_INSTANCEHOST\", \"localhost\")\ndoc/demos/basic-workflow1.sh:: \"${DANDI_INSTANCE:=local-docker}\"\ndoc/demos/basic-workflow1.sh:dandi register -i \"$DANDI_INSTANCE\" -n \"$(basename $SRCPATH)\" -D \"description\"\ndoc/demos/basic-workflow1.sh:dandi upload -i \"$DANDI_INSTANCE\"\n\n$\u003e git grep instancehost\ndandi/consts.py:instancehost = os.environ.get(\"DANDI_INSTANCEHOST\", \"localhost\")\ndandi/consts.py:        None, None, f\"http://{instancehost}:8000/api\"\n```\nbut from a brief git log archaeological expedition I don't think we ever supported `DANDI_INSTANCE` env variable to point to the default instance to use.  I think it might be worth bringing it in, and defaulting to `\"dandi\"` instance, and using its \"api\" end point.","files":null}]}