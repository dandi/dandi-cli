{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1625004217,"metadata":{"github-id":"MDU6SXNzdWU5MzMxMzg3ODc=","github-url":"https://github.com/dandi/dandi-cli/issues/690","origin":"github"},"title":"API design: tune up asset structure/records","message":"further tuning up backups2datalad.py to make it work, noted that assets records now contain \n```\n(git)lena:~/proj/dandi/dandi-cli-master[master]git\n$\u003e python -c 'import dandi; print(dandi.__version__); from dandi.dandiapi import DandiAPIClient; ds = DandiAPIClient().get_dandiset(\"000027\", \"draft\"); print([a.json_dict() for a in ds.get_assets()])'         \n0.21.0+14.g0a2903f\n[{'dandiset_id': '000027', 'version_id': 'draft', 'asset_id': 'ff453f4c-a435-4a5d-a48b-128abca5ec47', 'path': 'sub-RAT123/sub-RAT123.nwb', 'size': 18792, 'modified': datetime.datetime(2021, 5, 18, 13, 13, 56, 247883, tzinfo=datetime.timezone.utc)}]\n```\n\n1. information about dandiset (dandiset_id, version_id) - I think we should aim to have asset decoupled from a dandiset. dandi-api doesn't provide dandiset information upon `/assets`, and eventually assets might get shared by multiple dandisets\n2. `modified` is datetime (not str), despite `json_dict` somewhat suggesting that it would be json-digestable dict, but datetime causes json to puke upon dumps.  I think for `json_dict` it should be serialized into str.","files":null}]}