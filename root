{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1708531055,"metadata":{"github-id":"I_kwDODBZtRc5_-mmS","github-url":"https://github.com/dandi/dandi-cli/issues/1409","origin":"github"},"title":"Validate (.ome).zarr against ngff schema using ome-zarr-models-py","message":"A part inspired from \n- #1281\nand current problem of presumably having LOTS of non-compliant zarrs in the archive:\n- https://github.com/dandisets/000108/issues/14\n\nFor any .zarr we encounter we should\n- check if it is  actually an OME .zarr.  I think we can do that by looking for `.omero` top level key in .zattrs\n- NB if that is the best way was asked:\n  - https://github.com/ome/ngff/issues/228\n  \nFor any OME .zarr (be either detected through above or having `.ome.zarr` extension), validate that zarr against the specified version (if no version -- validation error)\n\n```shell\n‚ùØ jq '.omero.version' .zattrs\n\"0.4\"\n```\n\nof schema as provided on https://github.com/ome/ngff under `{schema_version}/schemas/` folder in `.schema` json files and issue corresponding validation errors to the users trying to upload non-compliant OME .ngffs.","files":null}]}