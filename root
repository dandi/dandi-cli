{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1617911302,"metadata":{"github-id":"MDU6SXNzdWU4NTM4MTcxODE=","github-url":"https://github.com/dandi/dandi-cli/issues/538","origin":"github"},"title":"address/suppress warnings","message":"running our tests in `dandiarchive/nwb-healthstatus:pynwb-latest` container with following adhoc script:\n```\n$\u003e cat test-downstream.sh                                                                                                                             \n#!/bin/bash\n\nset -eux\n\ninstall_target=https://github.com/dandi/dandi-cli  # or just dandi\ndevinstall_cmd='pip install ${install_target}[test]'\ntest_cmd='python -m pytest -s -v dandi'\n\ncd \"$(mktemp -d ${TMPDIR:-/tmp}/nwbh-XXXXXXX)\"\nwhich pip; which python; python --version\n\npip install --force-reinstall 'numpy\u003c1.19.4'\npip install 'dandi[test]'\npython -m pytest -s -v --pyargs dandi\n```\n(includes that ugly numpy workaround without which it does not work) and invoked as\n`docker run -it --rm -v $PWD/test-downstream.sh:/usr/local/bin/test-downstream.sh dandiarchive/nwb-healthstatus:pynwb-latest bash test-downstream.sh`\n\nI get following warnings:\n```\n================================================================================================= warnings summary ==================================================================================================\n../../opt/miniconda-latest/lib/python3.8/site-packages/hdmf/spec/namespace.py:206\n../../opt/miniconda-latest/lib/python3.8/site-packages/hdmf/spec/namespace.py:206\n  /opt/miniconda-latest/lib/python3.8/site-packages/hdmf/spec/namespace.py:206: PendingDeprecationWarning: \n  safe_load will be removed, use\n  \n    yaml=YAML(typ='safe', pure=True)\n    yaml.load(...)\n  \n  instead\n    d = yaml.safe_load(stream)\n\n../../opt/miniconda-latest/lib/python3.8/site-packages/ruamel/yaml/main.py:1104: 18 warnings\n  /opt/miniconda-latest/lib/python3.8/site-packages/ruamel/yaml/main.py:1104: PendingDeprecationWarning: \n  load will be removed, use\n  \n    yaml=YAML(typ='unsafe', pure=True)\n    yaml.load(...)\n  \n  instead\n    return load(stream, SafeLoader, version)\n\n../../opt/miniconda-latest/lib/python3.8/site-packages/hdmf/spec/namespace.py:215: 16 warnings\n  /opt/miniconda-latest/lib/python3.8/site-packages/hdmf/spec/namespace.py:215: PendingDeprecationWarning: \n  safe_load will be removed, use\n  \n    yaml=YAML(typ='safe', pure=True)\n    yaml.load(...)\n  \n  instead\n    specs = yaml.safe_load(stream)\n\n../../opt/miniconda-latest/lib/python3.8/site-packages/dandi/tests/test_organize.py:103\n  /opt/miniconda-latest/lib/python3.8/site-packages/dandi/tests/test_organize.py:103: PytestUnknownMarkWarning: Unknown pytest.mark.integration - is this a typo?  You can register custom marks to avoid this warnin\ng - for details, see https://docs.pytest.org/en/stable/mark.html\n    @pytest.mark.integration\n\ncli/tests/test_command.py::test_smoke[command1]\n  /opt/miniconda-latest/lib/python3.8/site-packages/hdmf/backends/hdf5/h5tools.py:141: UserWarning: No cached namespaces found in /tmp/pytest-of-root/pytest-0/data0/simple2.nwb\n    warnings.warn(msg)\n\ncli/tests/test_ls.py::test_smoke[auto]\ncli/tests/test_ls.py::test_smoke[json]\ntests/test_pynwb_utils.py::test_pynwb_io\ntests/test_validate.py::test_validate_simple1\n  /opt/miniconda-latest/lib/python3.8/site-packages/hdmf/backends/hdf5/h5tools.py:141: UserWarning: No cached namespaces found in /tmp/pytest-of-root/pytest-0/data1/simple1.nwb\n    warnings.warn(msg)\n\ntests/test_girder.py::test_keyring_lookup_envvar_no_password[None]\n  /opt/miniconda-latest/lib/python3.8/importlib/__init__.py:127: H5pyDeprecationWarning: The h5py.highlevel module is deprecated, code should import directly from h5py, e.g. 'from h5py import File'.\n    return _bootstrap._gcd_import(name[level:], package, level)\n\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\n```\n\nso we might need to report (or address via PR) on hdmf end, and/or suppress if needed","files":null}]}