{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1721327292,"metadata":{"github-id":"I_kwDODBZtRc6QEcwb","github-url":"https://github.com/dandi/dandi-cli/issues/1461","origin":"github"},"title":"Support partial zarr download: asset path could point within zarr","message":"ATM path would need to stop at .zarr asset boundary, and if provided subpath within zarr -- it would fail:\n\n```shell\n‚ùØ dandi download dandi://dandi/000719/sub-1214579789_ses-1214621812_icephys/sub-1214579789_ses-1214621812_icephys.nwb.zarr/acquisition/data_00002_AD0/data/576\n2024-07-18 08:19:12,994 [    INFO] Logs saved in /home/yoh/.local/state/dandi-cli/log/2024.07.18-18.19.10Z-3643693.log\nError: No asset at path 'sub-1214579789_ses-1214621812_icephys/sub-1214579789_ses-1214621812_icephys.nwb.zarr/acquisition/data_00002_AD0/data/576'\n```\n\nI think we should implement \"path upscending\" logic to go up the path until we hit some path known to be an asset (or dandiset boundary - and then just report on \"no asset\"), and if asset is a zarr -- take the remainder of the path as the path within zarr, which might lead to folder or a file within zarr, and download that locally.\n\nRelates to \n- dandi/dandi-archive#1460 \nas would need full path within zarr but I think as individual file within zarr makes little sense by itself, for partial zarr download we should always reproduce its leading directory structure locally.\n\nOriginal use-case/user request:\n- https://github.com/dandi/dandi-cli/issues/1474","files":null}]}