{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1619552398,"metadata":{"github-id":"MDU6SXNzdWU4NjkyMDA5MDA=","github-url":"https://github.com/dandi/dandi-cli/issues/598","origin":"github"},"title":"ls -r dandi:// url with /path lists only the dandiset  and not assets","message":"```\n$\u003e dandi ls -F path -r \"dandi://000026\"             \n[]\n2021-04-27 15:38:45,191 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20210427193845Z-2089678.log\nError: We do not know how to map URL dandi://000026 to our servers.\nPatterns for known setups:\n - DANDI:\u003cdandiset id\u003e\n - https://dandiarchive.org/...\n - https://identifiers.org/DANDI:\u003cdandiset id\u003e\n - https://gui-beta-dandiarchive-org.netlify.app/#/dandiset/\u003cdandiset id\u003e[/\u003cversion\u003e][/files[?location=\u003cpath\u003e]]\n - https://*dandiarchive-org.netflify.app/...\n - https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset id\u003e[/versions[/\u003cversion\u003e]]\n - https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset id\u003e/versions/\u003cversion\u003e/assets/\u003casset id\u003e[/download]\n - https://\u003cserver\u003e[/api]/dandisets/\u003cdandiset id\u003e/versions/\u003cversion\u003e/assets/?path=\u003cpath\u003e\n - https://\u003cserver\u003e[/api]#/dandiset/\u003cdandiset id\u003e[/draft][/files[?_id=\u003cid\u003e[\u0026_modelType=folder]]]\n - dandi://\u003cinstance name\u003e/\u003cdandiset id\u003e[@\u003cversion\u003e][/\u003cpath\u003e]\n - https://\u003cserver\u003e/...\n```\n\nsays that we support `dandi://\u003cinstance name\u003e/\u003cdandiset id\u003e[@\u003cversion\u003e][/\u003cpath\u003e]`  URLs. But if `/\u003cpath\u003e` is provided it seems to not how assets:\n\n```shell\n$\u003e dandi ls -F path -r \"dandi://dandi/000026/sub-I46\"   \n- asset_count: 1196\n  created: '2020-06-24T18:34:50.022000Z'\n  metadata:\n... \n```\nso it uses yaml since a single entry (dandiset) and no assets from under sub-I46 are listed.\n\nAlso, whenever some path is provided (even if just the trailing `/`) no dandiset record should probably be shown.","files":null}]}