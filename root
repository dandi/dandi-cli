{"version":2,"ops":[{"type":1,"author":{"id":"f068089e26f6e2e30d51a62e75a77af7d9dc5ecb"},"timestamp":1688397524,"metadata":{"github-id":"I_kwDODBZtRc5qeisL","github-url":"https://github.com/dandi/dandi-cli/issues/1308","origin":"github"},"title":"publications in asset metadata","message":"In https://github.com/dandi/helpdesk/discussions/100, @GaelleChapuis wanted to know how to query for NWB files within [the big IBL dandiset](https://dandiarchive.org/dandiset/000409) that are associated with a given publication. This dandiset contains data that are relevant to several different publications, and each NWB file lists which publications it is associated with under the field `nwbfile.related_publications`. The dandi cli currently extracts these values and adds them to the dandiset-level metadata, but not the asset-level metadata. As a result, our best approach to query for these files currently is it iterate over all of the NWB files in the dandiset, open them in stream mode, and read this value. This is very slow compared to iterating over the asset-level metadata.\n\nThe solution I would like is to use these extracted values to also populate the asset-level metadata so they can be differentiated by this attribute.","files":null}]}