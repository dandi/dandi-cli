{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1731446445,"metadata":{"github-id":"I_kwDODBZtRc6eJu9S","github-url":"https://github.com/dandi/dandi-cli/issues/1521","origin":"github"},"title":"Add configuration system","message":"ATM we only rely on some env vars defined in `DEVELOPMENT.md`\n\n```shell\n❯ grep DANDI_ DEVELOPMENT.md\n`DANDI_DEVEL` environment variable, which is needed in order to expose the\n- `DANDI_DEVEL` -- enables otherwise hidden command line options, such as\n- `DANDI_API_KEY` -- avoids using keyrings, thus making it possible to\n- `DANDI_LOG_LEVEL` -- set log level. By default `INFO`, should be an int (`10` - `DEBUG`).\n- `DANDI_CACHE` -- clear persistent cache handling. Known values\n- `DANDI_INSTANCEHOST` -- defaults to `localhost`. Point to host/IP which hosts\n- `DANDI_TESTS_PERSIST_DOCKER_COMPOSE` -- When set, the tests will reuse the\n- `DANDI_TESTS_PULL_DOCKER_COMPOSE` -- When set to an empty string or `0`, the\n- `DANDI_TESTS_NO_VCR` — When set, the use of vcrpy to playback captured HTTP\n- `DANDI_DEVEL_INSTRUMENT_REQUESTS_SUPERLEN` -- When set, the `upload()`\n- `DANDI_DOWNLOAD_AGGRESSIVE_RETRY` -- When set, would make `download()` retry\n```\n\nand a set of options to individual commands which in principle could have their defaults overwritten \"account wide\", e.g. to modify default `instance` to use etc.   Some additional considerations\n\n- Should likely follow similar to git and datalad logic of going through ways to overload: system config, user config, local dandiset config, env variable, CLI option. \n- to accommodate more of instances (e.g. as now for LINC), we might allow to define those, so configuration should allow (likely similar to how git does it in git config) to define new instances.","files":null}]}