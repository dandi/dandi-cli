{"version":2,"ops":[{"type":1,"author":{"id":"d8203afd43c9e0a9d07c45dd62b58a81d53a2ebe"},"timestamp":1722892182,"metadata":{"github-id":"I_kwDODBZtRc6SAC5y","github-url":"https://github.com/dandi/dandi-cli/issues/1475","origin":"github"},"title":"Error when using `--preserve-tree` option","message":"Hi @jwodder, I might be doing something wrong, but I am receiving an error with the `--preserve-tree` option.\n\nWhen downloading a single asset from [Dandiset 724](https://dandiarchive.org/dandiset/000724/draft/files?location=derivatives%2Fdwi%2Fsub-I58\u0026page=1) with the `--preserve-tree` option, the asset does not download and I receive a non-specific error that is not in the log file.  Without the `--preserve-tree` option, the asset downloads successfully.\n\nThank you.\n\nCommand\n```bash\ndandi download --preserve-tree https://api.dandiarchive.org/api/assets/dd10fbc4-9ddf-4129-b6d6-412f7a07ffe7/download/\n```\n\nError\n```bash\n2024-08-05 15:59:18,154 [    INFO] Logs saved in /Users/kabilar/Library/Logs/dandi-cli/2024.08.05-20.59.17Z-57918.log\nError: \n```\n\nLog file\n```\n2024-08-05T15:59:17-0500 [INFO    ] dandi 57918:8265534464 dandi v0.62.4+15.gf71ce95, hdmf v3.11.0, pynwb v2.5.0, h5py v3.10.0\n2024-08-05T15:59:17-0500 [INFO    ] dandi 57918:8265534464 sys.argv = ['/Users/kabilar/miniconda3/envs/dandi/bin/dandi', 'download', '--preserve-tree', 'https://api.dandiarchive.org/api/assets/dd10fbc4-9ddf-4129-b6d6-412f7a07ffe7/download/']\n2024-08-05T15:59:17-0500 [INFO    ] dandi 57918:8265534464 os.getcwd() = /Users/kabilar/Desktop\n2024-08-05T15:59:17-0500 [DEBUG   ] urllib3.connectionpool 57918:8265534464 Starting new HTTPS connection (1): rig.mit.edu:443\n2024-08-05T15:59:17-0500 [DEBUG   ] urllib3.connectionpool 57918:8265534464 https://rig.mit.edu:443 \"GET /et/projects/dandi/dandi-cli HTTP/1.1\" 200 579\n2024-08-05T15:59:17-0500 [DEBUG   ] dandi 57918:8265534464 Running a newer version (0.62.4+15.gf71ce95) of dandi/dandi-cli than available (0.62.4)\n2024-08-05T15:59:17-0500 [DEBUG   ] dandi 57918:8265534464 Parsing url https://api.dandiarchive.org/api/assets/dd10fbc4-9ddf-4129-b6d6-412f7a07ffe7/download/\n2024-08-05T15:59:17-0500 [DEBUG   ] urllib3.connectionpool 57918:8265534464 Starting new HTTPS connection (1): api.dandiarchive.org:443\n2024-08-05T15:59:17-0500 [DEBUG   ] urllib3.connectionpool 57918:8265534464 https://api.dandiarchive.org:443 \"GET /api/info/ HTTP/1.1\" 200 354\n2024-08-05T15:59:17-0500 [DEBUG   ] dandi 57918:8265534464 Parsed into BaseAssetIDURL(instance=DandiInstance(name='dandi', gui='https://dandiarchive.org', api='https://api.dandiarchive.org/api'), dandiset_id=None, version_id=None, asset_id='dd10fbc4-9ddf-4129-b6d6-412f7a07ffe7')\n2024-08-05T15:59:17-0500 [DEBUG   ] dandi 57918:8265534464 GET https://api.dandiarchive.org/api/assets/dd10fbc4-9ddf-4129-b6d6-412f7a07ffe7/info/\n2024-08-05T15:59:17-0500 [DEBUG   ] urllib3.connectionpool 57918:8265534464 Starting new HTTPS connection (1): api.dandiarchive.org:443\n2024-08-05T15:59:18-0500 [DEBUG   ] urllib3.connectionpool 57918:8265534464 https://api.dandiarchive.org:443 \"GET /api/assets/dd10fbc4-9ddf-4129-b6d6-412f7a07ffe7/info/ HTTP/1.1\" 200 2071\n2024-08-05T15:59:18-0500 [DEBUG   ] dandi 57918:8265534464 Response: 200\n2024-08-05T15:59:18-0500 [DEBUG   ] dandi 57918:8265534464 Caught exception \n2024-08-05T15:59:18-0500 [INFO    ] dandi 57918:8265534464 Logs saved in /Users/kabilar/Library/Logs/dandi-cli/2024.08.05-20.59.17Z-57918.log\n```","files":null}]}