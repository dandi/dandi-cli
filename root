{"version":2,"ops":[{"type":1,"author":{"id":"12cb25e6e3f19b53447b05d00d7d4d53c925c908"},"timestamp":1617381285,"metadata":{"github-id":"MDU6SXNzdWU4NDkzMjY5ODM=","github-url":"https://github.com/dandi/dandi-cli/issues/530","origin":"github"},"title":"refactoring participant in asset model","message":"i would like to refactor participant a little bit.  right now, we conflate identity of participant with information about the participant that can vary across files, sessions, etc.,. currently: `asset wasAttributedTo  participant`\n\nproposal 1:\n\n```\nasset\n    wasAttributedTo  participant; # but this participant simply contains an identifier and dob/dod. etc.,.\n    wasGeneratedBy [ a Session;\n                     \"start date\": session_start_time,\n                     \"end date\": session_end_time,\n                     generated ParticipantInfo]\n```\n\nand participantinfo would contain information about age, gender, sex, genotype, etc. the session properties can be improved, but this would be one way of linking the asset to participant info, while separating participant out. however, this could mean that the same participant info is generated by different recording sessions, which is not the case.\n\nproposal 2:\n\n```\nasset\n    wasAttributedTo  [ a Participant \n                       participatedIn [a Session/DataCollection/MeasurementActivity;\n                                       generated ParticipantInfo]\n```\n\nin prov there is no outgoing relation from an agent. those are implied. so i'm explicitly creating a property that is the inverse of `activity wasAssociatedWith agent` with `agent participatedIn activity` to support jsonld formulation without creating multiple graphs. in jsonld i can map participatedIn as `@reverse` of `wasAssociatedWith`. \n\nthe full scale of provenance could be quite complicated since genotyping, could be done in a different session than calculation of age, etc.,.\n\nproposal 3:\n\n```\nasset\n    wasAttributedTo  [ a Participant ];\n    wasDerivedFrom [a ParticipantInfo;\n                    wasAttributedTo [ a Participant] ] .\n```\n\nthis last one would be simplest formulation on not technically incorrect. since the nwb file contains some of the metadata. and could potentially be qualified with additional provenance about that attribution.\n\ni'm trying to balance simplicity with flexibility with veracity. while we can improve these elements later on but the current formulation we have is very database/user centric rather than information centric. my next goal is to also see how i can simplify the model to best satisfy both use cases through more jsonld manipulation. i tend to approach jsonld simplification by creating the graph and then iteratively recontextualizing into json, so the graph form we choose is important.\n\n@yarikoptic @tgbugs @lydiang  -  what do you think?","files":null}]}