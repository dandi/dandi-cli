{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1616683008,"metadata":{"github-id":"MDU6SXNzdWU4NDA5OTU0NjA=","github-url":"https://github.com/dandi/dandi-cli/issues/501","origin":"github"},"title":"delete command","message":"By popular request of @satra and to reflect that web ui would never become as flexible as shell globbing, we need `dandi delete`.\n\n- should be pretty much a trimmed down copy of `download` in terms of interface/handling inputs (paths or URLs) and just instead of `download` to `delete` of local and remote files\n  - may be worth adding an option `--remote-only` to not bother with possibly present local files\n- before jumping to the action, should ask user confirmation alike \"Do you want to delete {len(assets)} from the {dandiset} on the server and {len(files)} local files?\"  (later we might want to add a cmdline option to avoid this interaction, ok without for now since we better make it uniform with other commands like `upload` etc)\n- tests should test against an instance of fixtured dandi-api that\n  - deletion is forbidden by API server for assets in released versions\n  - deletion in the draft does not delete assets (by downloading so we are certain that blobs are not removed from keystore) present in prior released versions\n- no need for `girder` support - just raise NotImplementedError\n \nJust ideas for later\n- we might like to inform user on deletion of how many assets on remote server would cause those assets to no longer be present in the archive (i.e. not present in any other prior version of the dandiset)","files":null}]}