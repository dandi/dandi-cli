{"version":2,"ops":[{"type":1,"author":{"id":"d8203afd43c9e0a9d07c45dd62b58a81d53a2ebe"},"timestamp":1758252324,"metadata":{"github-id":"I_kwDODBZtRc7MmSAR","github-url":"https://github.com/dandi/dandi-cli/issues/1711","origin":"github"},"title":"Uploading the same Zarr assets to different embargoed Dandisets requires data transfer both times","message":"Hi @yarikoptic, I uploaded a set of Zarr assets to [Dandiset 1602](https://dandiarchive.org/dandiset/001602) and am now uploading the same assets to [Dandiset 1411](https://dandiarchive.org/dandiset/001411). The terminal output seems to suggest that data is being transferred again during the upload to the second Dandiset.  My understanding is that if the assets already exist on the Archive and they are being uploaded again, then a link would just be created to the existing assets from the second Dandiset and actual data transfer would not occur.  Thanks.\n\nTerminal output:\n\n```bash\n03:04 $ DANDI_DEVEL=1 dandi upload --allow-any-path --validation ignore .\n2025-09-19 03:05:16,249 [    INFO] Found 15 files to consider\nPATH                                                   SIZE     ERRORS   PROGRESS STATUS                  MESSAGE                  \ndandiset.yaml                                          1.3 kB                     skipped                 should be edited online  \n...b-I74/micr/sub-I74_sample-IC_acq-overview_XPCT.json 77 Bytes   0               done                                             \n...4/micr/sub-I74_sample-IC_acq-overview_XPCT.ome.zarr 89.9 GB    0           42% uploading                                        \n.../micr/sub-I74_sample-IC_acq-zoom_chunk-01_XPCT.json 74 Bytes   0               done                                             \n...r/sub-I74_sample-IC_acq-zoom_chunk-01_XPCT.ome.zarr 277.4 GB   0            1% uploading                                        \n.../micr/sub-I74_sample-IC_acq-zoom_chunk-02_XPCT.json 74 Bytes   0               done                                             \n...r/sub-I74_sample-IC_acq-zoom_chunk-02_XPCT.ome.zarr 341.1 GB   0            0% uploading                                        \n.../micr/sub-I74_sample-IC_acq-zoom_chunk-03_XPCT.json 74 Bytes   0               done                                             \n...r/sub-I74_sample-IC_acq-zoom_chunk-03_XPCT.ome.zarr 134.7 GB   0           17% uploading                                        \n...I74/micr/sub-I74_sample-hemi_acq-overview_XPCT.json 77 Bytes   0               done                                             \n...micr/sub-I74_sample-hemi_acq-overview_XPCT.ome.zarr 274.5 GB   0            4% uploading                                        \n...icr/sub-I74_sample-hemi_acq-zoom_chunk-01_XPCT.json                                                                             \n...sub-I74_sample-hemi_acq-zoom_chunk-01_XPCT.ome.zarr                                                                             \n...icr/sub-I74_sample-hemi_acq-zoom_chunk-02_XPCT.json                                                                             \n...sub-I74_sample-hemi_acq-zoom_chunk-02_XPCT.ome.zarr                                                                             \nSummary:                                               1.1 TB          101.4 MB/s 1 skipped               1 should be edited online\n                                                                                  5 done                                           \n                                                                                  5 uploading \n```\n\ncc @satra","files":null}]}