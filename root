{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1665429196,"metadata":{"github-id":"I_kwDODBZtRc5TqUht","github-url":"https://github.com/dandi/dandi-cli/issues/1131","origin":"github"},"title":"ls: Should authenticate / provide credentials while accessing embargoed dandiset","message":"Currently\n\n```\n$\u003e dandi ls https://dandiarchive.org/dandiset/000344\n2022-10-10 15:12:10,027 [   ERROR] Error 401 while sending GET request to https://api.dandiarchive.org/api/dandisets/000344/: {\"detail\":\"Authentication credentials were not provided.\"}\n[]\n2022-10-10 15:12:10,030 [    INFO] Logs saved in /home/yoh/.cache/dandi-cli/log/20221010191209Z-3985950.log\nError: Error 401 while sending GET request to https://api.dandiarchive.org/api/dandisets/000344/: {\"detail\":\"Authentication credentials were not provided.\"}\n\n$\u003e dandi --version\n0.46.4\n```\n\neven if `DANDI_API_KEY` is provided, so clearly `ls` does not even try to authenticate.  The logic should try to establish authentication to dandi archive upon 401.","files":null}]}