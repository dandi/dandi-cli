{"version":2,"ops":[{"type":1,"author":{"id":"f3557c4ceea08ee5e22c6aab1e8604bfb798bfa4"},"timestamp":1743472661,"metadata":{"github-id":"I_kwDODBZtRc6wjETU","github-url":"https://github.com/dandi/dandi-cli/issues/1600","origin":"github"},"title":"Remove deprecated use of Pydantic","message":"The latest version of Pydantic, 2.11 is causing errors such as:\n\n```console\n=========================== short test summary info ============================\nFAILED dandi/cli/tests/test_cmd_ls.py::test_ls_bids_file - KeyError: 'identifier'\nFAILED dandi/cli/tests/test_cmd_ls.py::test_ls_zarrbids_file - KeyError: 'identifier'\nFAILED dandi/cli/tests/test_cmd_ls.py::test_smoke_local_schema - KeyError: 'digest'\nFAILED dandi/cli/tests/test_cmd_validate.py::test_validate_bids_error[invalid_asl003] - AssertionError: assert 'NON_BIDS_PATH_PLACEHOLDER' in 'Error: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\\n'\n +  where 'Error: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\\n' = \u003cResult SystemExit(1)\u003e.output\nFAILED dandi/cli/tests/test_cmd_validate.py::test_validate_bids_error[invalid_pet001] - AssertionError: assert 'NON_BIDS_PATH_PLACEHOLDER' in 'Error: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\\n'\n +  where 'Error: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\\n' = \u003cResult SystemExit(1)\u003e.output\nFAILED dandi/tests/test_metadata.py::test_bids_nwb_metadata_integration - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_metadata.py::test_prepare_metadata[metadata2asset.json-metadata0] - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_metadata.py::test_prepare_metadata[metadata2asset_simple1.json-metadata1] - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_metadata.py::test_prepare_metadata[metadata2asset_3.json-metadata2] - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_metadata.py::test_prepare_metadata[metadata2asset_cellline.json-metadata3] - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_metadata.py::test_nwb2asset - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_upload.py::test_upload_download - dandi.exceptions.UploadError: failed to extract metadata: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\nFAILED dandi/tests/test_upload.py::test_upload_bids_invalid - pydantic.warnings.PydanticDeprecatedSince211: Accessing this attribute on the instance is deprecated, and will be removed in Pydantic V3. Instead, you should access this attribute from the model class. Deprecated in Pydantic V2.11 to be removed in V3.0.\n```\n\nAdd support of Pydantic 2.11.","files":null}]}