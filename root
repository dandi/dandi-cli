{"version":2,"ops":[{"type":1,"author":{"id":"34bb3b7763ea6d04cae1c21ede40209df34305b5"},"timestamp":1623715711,"metadata":{"github-id":"MDU6SXNzdWU5MjA4NjY2MTI=","github-url":"https://github.com/dandi/dandi-cli/issues/672","origin":"github"},"title":"get_asset_url -\u003e str or FileNotFoundError","message":"use case brought up by @bendichter but also would be common for any user: ATM it is quite some exercise to get the \"canonical\" url for an asset content to e.g. use ROS3 driver to load it.  E.g. with dandi-cli API we can do\n\n```shell\n$\u003e python -c 'from dandi.dandiapi import DandiAPIClient; print(list(DandiAPIClient(\"https://api.dandiarchive.org/api\").get_dandiset_assets(\"000027\", \"draft\", path=\"sub-RAT123/sub-RAT123.nwb\", include_metadata=True))[0][\"metadata\"][\"contentUrl\"])' \n['https://api.dandiarchive.org/api/dandisets/000027/versions/draft/assets/ff453f4c-a435-4a5d-a48b-128abca5ec47/download/', 'https://dandiarchive.s3.amazonaws.com/blobs/2db/af0/2dbaf0fd-5003-4a0a-b4c0-bc8cdbdb3826?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAUBRWC5GAEKH3223E%2F20210614%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20210614T233243Z\u0026X-Amz-Expires=21600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=8566a53bfc2677f08f3998625cf1256952cfdf7c0211d3e321be746aabfd735a']\n```\nso a good implementation would need to check first that we get a single asset, and then filter urls for the one which is provided by that API.  I think we should have a convenience function which accomplishes the same but easier and just return the URL matching the API endpoint .  Should be done as a part of the API refactoring","files":null}]}